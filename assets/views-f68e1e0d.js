import{E as Re,a as H,b as Pe,v as ne,c as se,d as Me,e as Oe,f as De,g as Fe,h as Be,i as Ue,j as Ae,k as je,l as fe,m as be,n as ve,o as he,p as qe,q as O,r as le,s as Ne,t as We,u as ge,w as ye,x as ke,y as Je,z as Ke,A as Ge,B as we,C as He,D as Qe,F as re,G as xe,H as Xe,I as Ye,J as Ze,K as et}from"./element-ad357893.js";import{bx as n,by as $,bU as R,bw as K,bv as I,bm as x,bZ as Z,bO as v,bN as l,bT as M,bI as m,bc as z,ch as F,bR as L,bS as P,bD as W,bQ as J,cz as tt,bi as ue,cS as ot,cT as ee,be as Se,bt as Ve,cU as at,bl as Te,cV as $e,bh as Y,bq as lt,bB as nt,bg as Le,cA as ce,bP as ie,cW as st,cX as rt,bu as _e,cY as ut,bf as ct}from"./chunks-08648efb.js";import{u as it,e as dt,i as pt,a as _t,b as mt,c as ft,d as bt,f as vt,g as ht,h as gt,j as yt,k as kt,l as wt}from"./echarts-33b6a4c5.js";const xt="modulepreload",St=function(r,u){return new URL(r,u).href},me={},G=function(u,a,o){if(!a||a.length===0)return u();const t=document.getElementsByTagName("link");return Promise.all(a.map(e=>{if(e=St(e,o),e in me)return;me[e]=!0;const c=e.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!o)for(let b=t.length-1;b>=0;b--){const k=t[b];if(k.href===e&&(!c||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":xt,c||(d.as="script",d.crossOrigin=""),d.href=e,document.head.appendChild(d),c)return new Promise((b,k)=>{d.addEventListener("load",b),d.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>u()).catch(e=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=e,window.dispatchEvent(c),!c.defaultPrevented)throw e})},$o=[{path:"/singleList",name:"singleList",component:()=>G(()=>Promise.resolve().then(()=>Ot),void 0,import.meta.url),meta:{title:"简单列表"}},{path:"/pageList",name:"pageList",component:()=>G(()=>Promise.resolve().then(()=>Ut),void 0,import.meta.url),meta:{title:"分页列表"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>G(()=>Promise.resolve().then(()=>jt),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>G(()=>Promise.resolve().then(()=>Gt),void 0,import.meta.url),meta:{title:"echart"}}];const q=(r,u)=>{const a=r.__vccOpts||r;for(const[o,t]of u)a[o]=t;return a},Vt={},Tt={class:"flex"},$t={class:"flex-header"},Lt={class:"flex-content"},Ct={class:"flex-footer"};function Et(r,u){return n(),$("div",Tt,[R("div",$t,[K(r.$slots,"header",{},void 0,!0)]),R("div",Lt,[K(r.$slots,"default",{},void 0,!0)]),R("div",Ct,[K(r.$slots,"footer",{},void 0,!0)])])}const de=q(Vt,[["render",Et],["__scopeId","data-v-f135e414"]]),It=["textContent"],Ce=I({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(r,{expose:u,emit:a}){const o=x(!1),t=x();function e(i){o.value=i}function c(i){a("selection-change",i)}return u({setLoading:e}),(i,s)=>{const d=Re,b=H,k=Pe,g=ne;return Z((n(),v(k,{onSelectionChange:c,ref_key:"tableModelRef",ref:t,data:r.data,height:"100%",border:""},{default:l(()=>[r.selection?(n(),v(d,{key:0,type:"selection",width:"55"})):M("",!0),m(d,{type:"index",width:"50"}),(n(!0),$(z,null,F(r.header,_=>(n(),v(d,{key:_.prop,prop:_.prop,width:_.width,label:_.label,fixed:_.fixed,sortable:_.sortable},{default:l(({row:h})=>[K(i.$slots,_.prop,{row:h},()=>[_.prop==="action"?(n(!0),$(z,{key:0},F(_.options,y=>(n(),v(b,{key:y.name,link:"",type:"primary",onClick:S=>y.onClick(h)},{default:l(()=>[L(P(y.name),1)]),_:2},1032,["onClick"]))),128)):(n(),$("div",{key:1,textContent:P(h[_.prop])},null,8,It))])]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[g,o.value]])}}}),zt=I({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(r,{expose:u,emit:a}){const o=r,t=x(),e=W(o.formData),c=x(!1),i=async()=>{var h;let _=W({valid:!1,data:e,fields:null});return await((h=t.value)==null?void 0:h.validate((y,S)=>{y?_.valid=!0:(console.log("error submit!",S),_.fields=S)})),_},s=()=>{d(),a("submit")},d=()=>{var _;g(!1),(_=t.value)==null||_.resetFields()},b=_=>{var h;(h=t.value)==null||h.validateField(_)},k=(_,h)=>{e[_]=h},g=_=>{c.value=_};return u({submitForm:i,resetFields:d,validateField:b,changeValue:k,setLoading:g}),(_,h)=>{const y=se,S=Me,f=Oe,T=De,C=Fe,A=Be,N=Ue,w=Ae,E=je,B=fe,Q=be,D=H,j=ve,X=he;return n(),v(X,{class:"formModel",size:_.size,inline:_.inline,ref_key:"ruleFormRef",ref:t,model:e,"label-width":_.labelWidth},{default:l(()=>[(n(!0),$(z,null,F(_.formItem,p=>(n(),v(j,{key:p.prop,label:p.label,prop:p.prop,rules:p.rules},{default:l(()=>[m(Q,{wrap:""},{default:l(()=>[p.type==="input"?(n(),v(y,{key:0,style:J(p.style||_.itemStyle),maxlength:p.maxlength,"show-word-limit":"",modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):M("",!0),p.type==="input-number"?(n(),v(S,{key:1,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V,min:p.min,max:p.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):M("",!0),p.type==="select"?(n(),v(T,{key:2,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V,placeholder:"请选择",clearable:"",filterable:"",multiple:p.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:l(()=>[(n(!0),$(z,null,F(p.options,V=>(n(),v(f,{label:V.label,value:V.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):M("",!0),p.type&&["date","datetime","datetimerange","daterange"].includes(p.type)?(n(),v(C,{key:3,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V,type:p.type,format:p.format,"value-format":p.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):M("",!0),p.type==="switch"?(n(),v(A,{key:4,modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),p.type==="checkbox"?(n(),v(w,{key:5,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V},{default:l(()=>[(n(!0),$(z,null,F(p.options,V=>(n(),v(N,{key:V.label,label:V.label,name:p.prop},{default:l(()=>[L(P(V.name||V.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),p.type==="radio"?(n(),v(B,{key:6,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V},{default:l(()=>[(n(!0),$(z,null,F(p.options,V=>(n(),v(E,{key:V.label,label:V.label},{default:l(()=>[L(P(V.name||V.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),p.type==="textarea"?(n(),v(y,{key:7,style:J(p.style||_.itemStyle),modelValue:e[p.prop],"onUpdate:modelValue":V=>e[p.prop]=V,type:"textarea",rows:p.row,maxlength:p.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):M("",!0),K(_.$slots,p.prop,{item:p},void 0,!0)]),_:2},1024),p.prop==="searchBtn"?(n(),$(z,{key:0},[m(D,{type:"primary",onClick:h[0]||(h[0]=V=>a("submit")),disabled:c.value},{default:l(()=>[L("查询")]),_:1},8,["disabled"]),m(D,{disabled:c.value,onClick:s},{default:l(()=>[L("重置")]),_:1},8,["disabled"])],64)):M("",!0),p.prop==="submitBtn"?(n(),$(z,{key:1},[m(D,{type:"primary",onClick:h[1]||(h[1]=V=>a("submit")),disabled:c.value},{default:l(()=>[L("提交")]),_:1},8,["disabled"]),m(D,{disabled:c.value,onClick:h[2]||(h[2]=V=>a("close"))},{default:l(()=>[L("关闭")]),_:1},8,["disabled"])],64)):M("",!0)]),_:2},1032,["label","prop","rules"]))),128)),m(j,null,{default:l(()=>[K(_.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const te=q(zt,[["__scopeId","data-v-67bdd3df"]]);async function U(r,u){return await fetch(r,{body:u&&JSON.stringify(u),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(a=>a.json())}const Rt=I({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(r,{emit:u}){const a=()=>{u("update:modelValue",!1),u("close")};return(o,t)=>{const e=qe;return n(),v(e,{"model-value":o.modelValue,title:o.title,width:o.width,draggable:o.draggable,onClosed:a,"close-on-click-modal":!1},tt({default:l(()=>[K(o.$slots,"default")]),_:2},[o.showFooter?{name:"footer",fn:l(()=>[K(o.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),Pt=I({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(r,{emit:u}){const a=r,o=x(),t=W({label:"",value:"",type:"type"}),e=W([{label:"类型",prop:"type",type:"select",options:a.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),c=async()=>{var b,k;const{valid:s,data:d}=await((b=o.value)==null?void 0:b.submitForm());s&&((k=o.value)==null||k.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/addOption",d).then(({success:g,result:_})=>{var h;g?(O.success("添加成功"),i(),u("submit")):(O.error(_||"添加失败"),(h=o.value)==null||h.setLoading(!1))}).catch(()=>{var g;O.error("添加失败"),(g=o.value)==null||g.setLoading(!1)}))},i=()=>{var s;(s=o.value)==null||s.resetFields(),u("update:modelValue",!1)};return(s,d)=>{const b=te,k=Rt;return n(),v(k,{title:"新增","model-value":r.modelValue,width:"400px",onClose:i},{default:l(()=>[m(b,{"label-width":"90px",ref_key:"ruleFormRef",ref:o,formData:t,formItem:e,onSubmit:c,onClose:i},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),Mt=I({__name:"singleList",setup(r){const u=x([]),a=x(),o=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:k=>d(k)}]}],t=x(!1),e=x(),c=W({type:"",label:""}),i=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],s=W([{label:"类型",prop:"type",type:"select",options:i},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),d=k=>{le.alert(`确定删除${k.label}`,"删除",{confirmButtonText:"OK",callback:g=>{g==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:k._id}).then(({success:_})=>{_?(O.success("删除成功"),b()):O.error("删除失败")})}})},b=async()=>{var g,_,h;const{data:k}=await((g=e.value)==null?void 0:g.submitForm());u.value=[],(_=a.value)==null||_.setLoading(!0),(h=e.value)==null||h.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:k}).then(y=>{var S,f;u.value=y.result,(S=a.value)==null||S.setLoading(!1),(f=e.value)==null||f.setLoading(!1)}).catch(()=>{var y,S;(y=a.value)==null||y.setLoading(!1),(S=e.value)==null||S.setLoading(!1)})};return ue(()=>{b()}),(k,g)=>{const _=H,h=te,y=Ce,S=de;return n(),v(S,null,{header:l(()=>[m(h,{inline:"",ref_key:"searchFormRef",ref:e,formData:c,formItem:s,onSubmit:b},{default:l(()=>[m(_,{type:"primary",onClick:g[0]||(g[0]=f=>t.value=!0)},{default:l(()=>[L("新增")]),_:1})]),_:1},8,["formData","formItem"])]),default:l(()=>[m(y,{data:u.value,ref_key:"tableRef",ref:a,header:o},null,8,["data"]),m(Pt,{onSubmit:b,modelValue:t.value,"onUpdate:modelValue":g[1]||(g[1]=f=>t.value=f),typeOptions:i},null,8,["modelValue"])]),_:1})}}}),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),Dt=I({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(r,{emit:u}){const a=r,o=x(1),t=x(a.defaultPageSize),e=i=>{o.value=1,u("size-change",i)},c=i=>u("current-change",i);return(i,s)=>{const d=Ne;return n(),v(d,{class:"pagination","current-page":o.value,"onUpdate:currentPage":s[0]||(s[0]=b=>o.value=b),"page-size":t.value,"onUpdate:pageSize":s[1]||(s[1]=b=>t.value=b),background:a.background,small:a.small,layout:a.layout,total:a.total,"page-sizes":a.pageSizes,"default-page-size":a.defaultPageSize,onSizeChange:e,onCurrentChange:c},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const Ft=q(Dt,[["__scopeId","data-v-b2e93b00"]]),Ee=ot("reloadTabs",()=>{const r=x([]);function u(t){r.value.includes(t)||r.value.push(t)}function a(t){r.value=r.value.filter(e=>e!==t)}function o(t,e){r.value.includes(t)&&(a(t),e&&e())}return{reloadList:r,addReloadTab:u,removeReloadTab:a,checkReload:o}}),Ie=async()=>{let r={};const u=sessionStorage.getItem("options");if(u)Object.assign(r,JSON.parse(u));else{const{result:a}=await U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});a.forEach(o=>{r[o.type]||(r[o.type]=[]),r[o.type].push(o)}),sessionStorage.setItem("options",JSON.stringify(r))}return r},Bt=I({__name:"pageList",setup(r){const u=Ee(),a=ee(),o=W({page:1,total:0,size:20}),t=x({}),e=x([]),c=x([]),i=x(),s=x(),d=W({type:"",name:""}),b=Se(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:t.value.region},{label:"活动分类",prop:"type",type:"select",options:t.value.type},{prop:"searchBtn"}]),k=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:w=>S(w)},{name:"编辑",onClick:w=>f(w)},{name:"复制",onClick:w=>T(w)},{name:"删除",onClick:w=>C(w)}]}],g=w=>{o.size=w,o.page=1,h()},_=w=>{o.page=w,h()},h=async()=>{var E,B,Q;const{data:w}=await((E=s.value)==null?void 0:E.submitForm());(B=i.value)==null||B.setLoading(!0),(Q=s.value)==null||Q.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:o.size,page:o.page,search:w}).then(D=>{var j,X;e.value=D.result||[],o.total=D.total||0,(j=i.value)==null||j.setLoading(!1),(X=s.value)==null||X.setLoading(!1)}).catch(()=>{var D,j;e.value=[],o.total=0,(D=i.value)==null||D.setLoading(!1),(j=s.value)==null||j.setLoading(!1)})},y=()=>{a.push("/addForm")},S=w=>{a.push(`/detailInfo/${w._id}`)},f=w=>{a.push(`/editForm/${w._id}`)},T=w=>{a.push(`/copyForm/${w._id}`)},C=w=>{le.alert(`确定删除${w.name}`,"删除",{confirmButtonText:"OK",callback:E=>{E==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:w._id}).then(({success:B})=>{B?(O.success("删除成功"),h()):O.error("删除失败")})}})},A=w=>{c.value=w},N=()=>{le.alert(`确定删除${c.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:w=>{w==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:c.value.map(E=>E._id)}).then(({success:E})=>{E?(O.success("删除成功"),h()):O.error("删除失败")})}})};return Ve(async()=>{t.value=await Ie(),h()}),at(()=>{u.checkReload("pageList",()=>{h()})}),(w,E)=>{const B=H,Q=te,D=We,j=be,X=Ce,p=Ft,V=de;return n(),v(V,null,{header:l(()=>[m(Q,{inline:"",ref_key:"searchFormRef",ref:s,formData:d,formItem:b.value,onSubmit:h},{default:l(()=>[m(B,{type:"primary",onClick:y},{default:l(()=>[L("新增")]),_:1}),m(B,{type:"primary",disabled:!c.value.length,onClick:N},{default:l(()=>[L("批量删除")]),_:1},8,["disabled"])]),_:1},8,["formData","formItem"])]),footer:l(()=>[m(p,{ref:"pageModel",total:o.total,"default-page-size":20,onSizeChange:g,onCurrentChange:_},null,8,["total"])]),default:l(()=>[m(X,{onSelectionChange:A,selection:"",data:e.value,ref_key:"tableRef",ref:i,header:k},{region:l(({row:oe})=>[L(P(oe.region.join()),1)]),type:l(({row:oe})=>[m(j,{wrap:""},{default:l(()=>[(n(!0),$(z,null,F(oe.type,pe=>(n(),v(D,{key:pe},{default:l(()=>[L(P(pe),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"})),At=I({__name:"detailInfo",setup(r){const u=Te("removeTab"),o=$e().params.id,t=x({}),e=x(!0);return ue(()=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:o}).then(c=>{t.value=c.result,e.value=!1}).catch(()=>{e.value=!1})}),(c,i)=>{const s=H,d=ye,b=ge,k=ne;return Z((n(),v(b,{column:1,border:""},{extra:l(()=>[m(s,{onClick:i[0]||(i[0]=g=>Y(u)(c.$route.path))},{default:l(()=>[L("关闭")]),_:1})]),default:l(()=>[(n(!0),$(z,null,F(Object.keys(t.value),g=>(n(),v(d,{key:g,label:g},{default:l(()=>[L(P(t.value[g]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[k,e.value]])}}}),jt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),qt=I({__name:"formPage",setup(r){const u=Te("removeTab"),a=Ee(),o=$e(),t=o.params.id,e=o.params.copyId,c=x(!0),i=x(),s=W({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),d=x({}),b=Se(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:d.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],type:"datetimerange",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:d.value.type},{label:"资源类型",prop:"resource",type:"radio",options:d.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),k=async()=>{var f;const{valid:y,data:S}=await((f=i.value)==null?void 0:f.submitForm());y&&(t?U("https://5ykenqzacs.hk.aircode.run/editItem",{data:S,id:t,type:"demoList"}).then(({success:T})=>{T?(O.success("修改成功"),g()):O.error("修改失败")}):U("https://5ykenqzacs.hk.aircode.run/addItem",{data:S,type:"demoList"}).then(({success:T})=>{T?(O.success("提交成功"),g()):O.error("提交失败")}))},g=()=>{a.addReloadTab("pageList"),u(o.path)},_=(y,S)=>{var f;(f=i.value)==null||f.changeValue(y,S)},h=y=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:y}).then(({success:S,result:f})=>{S&&f&&Object.keys(f).forEach(T=>{["_id","updatedAt","createdAt"].includes(T)||(s[T]=f[T])})})};return Ve(async()=>{d.value=await Ie(),(t||e)&&await h(t||e),c.value=!1}),(y,S)=>{const f=H,T=se,C=te,A=ke,N=ne;return n(),v(A,null,{default:l(()=>[Z((n(),v(C,{ref_key:"ruleFormRef",ref:i,formData:s,formItem:b.value,"label-width":"120px",onSubmit:k,onClose:S[2]||(S[2]=w=>Y(u)(y.$route.path))},{name:l(()=>[m(f,{type:"primary",onClick:S[0]||(S[0]=w=>_("name","test"))},{default:l(()=>[L("修改活动名称")]),_:1})]),test:l(()=>[m(T,{modelValue:s.test,"onUpdate:modelValue":S[1]||(S[1]=w=>s.test=w)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[N,c.value]])]),_:1})}}}),ae=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));it([pt,_t,mt,ft,bt,vt,ht,gt,yt,kt,wt]);const Nt={echarts:dt},Wt=I({__name:"echartModel",props:{options:{}},setup(r,{expose:u}){const a=r,o=x(null),t=lt(),e=c=>{var i;(i=t.value)==null||i.resize(c)};return ue(()=>{var c;t.value=Nt.echarts.init(o.value),(c=t.value)==null||c.setOption(a.options),window.addEventListener("resize",e)}),nt(()=>{window.removeEventListener("resize",e)}),Le(()=>a.options,c=>{var i;(i=t.value)==null||i.setOption(c)},{deep:!0}),u({resize:e}),(c,i)=>(n(),$("div",{class:"chartDomStyle",ref_key:"chartDom",ref:o},null,512))}});const Jt=q(Wt,[["__scopeId","data-v-32818e74"]]),Kt=I({__name:"echartPage",setup(r){const u=i=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:i}]}),a=x("300px"),o=x(),t=x("bar");function e(i){var s;(s=o.value)==null||s.resize({height:i})}function c(i){t.value=i}return(i,s)=>{const d=Je,b=fe,k=Jt;return n(),$(z,null,[m(b,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=g=>a.value=g),onChange:e},{default:l(()=>[m(d,{label:"300px"}),m(d,{label:"500px"})]),_:1},8,["modelValue"]),m(b,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=g=>t.value=g),onChange:c},{default:l(()=>[m(d,{label:"bar"}),m(d,{label:"line"})]),_:1},8,["modelValue"]),R("div",{class:"chartDom",style:J({height:a.value})},[m(k,{ref_key:"chartDom",ref:o,options:u(t.value)},null,8,["options"])],4)],64)}}});const Gt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Ht={class:"version"},Qt=I({__name:"loginPage",setup(r){const u=ee(),a=x({username:"",password:""}),o=document.querySelector('meta[name="version"]'),t=document.querySelector('meta[name="buildTime"]'),e=x(!1),c=()=>{e.value=!0,setTimeout(()=>{e.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",a.value.username),u.push("/home")},1e3)};return(i,s)=>{const d=se,b=ve,k=H,g=he,_=Ke,h=de;return n(),v(h,null,{footer:l(()=>{var y,S;return[R("div",Ht," vue3-web-demo "+P((y=Y(o))==null?void 0:y.content)+" "+P((S=Y(t))==null?void 0:S.content),1)]}),default:l(()=>[m(_,{class:"box-card",header:"演示后台"},{default:l(()=>[m(g,{"label-width":"80px",model:a.value},{default:l(()=>[m(b,{label:"帐号"},{default:l(()=>[m(d,{modelValue:a.value.username,"onUpdate:modelValue":s[0]||(s[0]=y=>a.value.username=y),maxLength:"10"},null,8,["modelValue"])]),_:1}),m(b,{label:"密码"},{default:l(()=>[m(d,{modelValue:a.value.password,"onUpdate:modelValue":s[1]||(s[1]=y=>a.value.password=y),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),m(b,null,{default:l(()=>[m(k,{type:"primary",loading:e.value,disabled:!a.value.username||!a.value.password,onClick:c},{default:l(()=>[L("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}});const Xt=q(Qt,[["__scopeId","data-v-27c88525"]]),Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Yt=["onContextmenu"],Zt=I({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},setup(r,{expose:u}){const a=r,o=ee(),t=x([a.homeTab]),e=x(t.value[0].path),c=f=>{t.value.find(C=>C.path===f.path)||t.value.push(f),e.value=f.path},i=f=>{const T=t.value;if(e.value===f){const C=T.findIndex(N=>N.path===f),A=T[C+1]||T[C-1]||T[0];e.value=A.path}t.value=t.value.filter(C=>C.path!==f)},s=x(!1),d=x(""),b=x(),k={mounted(f,T){f.handler=function(C){f.contains(C.target)||T.value(C)},document.addEventListener("click",f.handler,!0)},unmounted(f){document.removeEventListener("click",f.handler)}},g=(f,T)=>{f.preventDefault(),b.value=f.currentTarget,s.value=!0,d.value=T},_=()=>{y(),t.value=t.value.filter(f=>f.closable===!1),e.value=t.value[0].path},h=()=>{y(),t.value=t.value.filter(f=>d.value===f.path||f.closable===!1),e.value=d.value},y=()=>{s.value=!1},S=f=>{let T=t.value.find(C=>C.path===f);T&&o.currentRoute.value.path!==T.path&&o.push(T.path)};return u({addTab:c,removeTab:i}),Le(()=>o.currentRoute.value.path,f=>{const{title:T,closable:C=!0}=o.currentRoute.value.meta;c({title:T,closable:C,path:f})}),(f,T)=>{const C=Ge,A=we,N=He,w=Qe;return n(),v(w,{modelValue:e.value,"onUpdate:modelValue":T[0]||(T[0]=E=>e.value=E),type:"card",class:"tabMenu",onTabRemove:i,onTabChange:S},{default:l(()=>[(n(!0),$(z,null,F(t.value,E=>(n(),v(C,{key:E.path,name:E.path,label:E.title,closable:E.closable!==!1},{label:l(()=>[Z((n(),$("div",{onContextmenu:B=>g(B,E.path)},[L(P(E.title),1)],40,Yt)),[[k,y]])]),_:2},1032,["name","label","closable"]))),128)),m(N,{ref:"tooltipRef","virtual-ref":b.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:s.value},{default:l(()=>[R("ul",null,[R("li",null,[m(A,{underline:!1,onClick:h},{default:l(()=>[L("关闭其他")]),_:1})]),R("li",null,[m(A,{underline:!1,onClick:_},{default:l(()=>[L("关闭所有")]),_:1})])])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const eo=q(Zt,[["__scopeId","data-v-303e67ff"]]),to=I({__name:"subMenu",props:["i"],emits:["addTab"],setup(r,{emit:u}){return(a,o)=>{const t=re,e=xe,c=ce("subMenu",!0),i=Xe;return n(),v(i,{index:r.i.title+r.i.path},{title:l(()=>[r.i.icon?(n(),v(t,{key:0},{default:l(()=>[(n(),v(ie(r.i.icon)))]),_:1})):M("",!0),R("span",null,P(r.i.title),1)]),default:l(()=>[(n(!0),$(z,null,F(r.i.children,s=>(n(),$(z,{key:s.path},[!s.children||!s.children.length?(n(),v(e,{key:0,onClick:d=>u("addTab",s),index:s.path},{default:l(()=>[L(P(s.title),1)]),_:2},1032,["onClick","index"])):(n(),v(c,{key:1,i:s,onAddTab:o[0]||(o[0]=d=>u("addTab",d))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),oo=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",children:[{title:"表单",path:"/addForm"},{title:"分页列表",path:"/pageList"}]},{title:"echart",path:"/echartPage"}]}],ao=I({__name:"sideBar",emits:["addTab"],setup(r,{emit:u}){return(a,o)=>{const t=re,e=xe,c=to,i=ke,s=Ye;return n(),v(s,{class:"side-bar"},{default:l(()=>[m(i,null,{default:l(()=>[(n(!0),$(z,null,F(Y(oo),d=>(n(),$(z,{key:d.title},[!d.children||!d.children.length?(n(),v(e,{key:0,index:d.title+d.path,onClick:b=>u("addTab",d)},{default:l(()=>[d.icon?(n(),v(t,{key:0},{default:l(()=>[(n(),v(ie(d.icon)))]),_:2},1024)):M("",!0),R("span",null,P(d.title),1)]),_:2},1032,["index","onClick"])):(n(),v(c,{key:1,i:d,onAddTab:o[0]||(o[0]=b=>u("addTab",b))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const lo=q(ao,[["__scopeId","data-v-9c62f71b"]]),no=""+new URL("../logo.svg",import.meta.url).href,ze=r=>(st("data-v-0c6f20b0"),r=r(),rt(),r),so={class:"top-bar"},ro=ze(()=>R("img",{src:no,class:"top-bar-icon",alt:""},null,-1)),uo=ze(()=>R("span",{class:"top-bar-text"},"vue3+element-plus",-1)),co=I({__name:"topBar",setup(r){const u=ee(),a=sessionStorage.getItem("username"),o=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),u.push("/login")};return(t,e)=>{const c=Ze,i=ce("SwitchButton"),s=re,d=we,b=et;return n(),$("div",so,[m(b,{gutter:20},{default:l(()=>[m(c,{span:12},{default:l(()=>[ro,uo]),_:1}),m(c,{span:4,offset:8,class:"top-bar-right"},{default:l(()=>[m(d,{underline:!1,onClick:o},{default:l(()=>[L(P(Y(a)),1),m(s,{class:"el-icon--right"},{default:l(()=>[m(i)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const io=q(co,[["__scopeId","data-v-0c6f20b0"]]),po={class:"home-waper"},_o={class:"home-waper-top"},mo={class:"home-waper-body"},fo={class:"home-waper-content"},bo={class:"home-waper-view"},vo=I({__name:"waper",setup(r){const u=x();function a(t){var e;(e=u.value)==null||e.addTab(t)}function o(t){var e;(e=u.value)==null||e.removeTab(t)}return _e("addTab",a),_e("removeTab",o),(t,e)=>{const c=io,i=lo,s=eo,d=ce("router-view");return n(),$("div",po,[R("div",_o,[m(c)]),R("div",mo,[m(i,{onAddTab:a}),R("div",fo,[m(s,{ref_key:"tabMenuRef",ref:u},null,512),R("div",bo,[m(d,null,{default:l(({Component:b,route:k})=>[(n(),v(ut,{max:3,include:/List/},[(n(),v(ie(b),{key:k.path}))],1024))]),_:1})])])])])}}});const ho=q(vo,[["__scopeId","data-v-76f1f9c8"]]),Co=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),go=()=>ct().proxy,yo=I({__name:"home",setup(r){const u=go(),a=x(u.$translate("home.title")),o=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(t,e)=>{const c=ye,i=ge;return n(),v(i,{title:a.value,column:1,border:""},{default:l(()=>[(n(),$(z,null,F(o,s=>m(c,{key:s.label,label:s.label},{default:l(()=>[L(P(s.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"])}}}),Eo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),ko={};function wo(r,u){return n(),$("div",null," 404 ")}const xo=q(ko,[["render",wo]]),Io=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));export{G as _,Io as a,Eo as h,Lo as l,$o as r,Co as w};
