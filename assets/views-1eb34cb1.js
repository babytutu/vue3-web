import{E as Fe,a as Q,b as De,v as ie,c as pe,d as Ae,e as Be,f as Ue,g as je,h as qe,i as Ne,j as Je,k as Ke,l as ye,m as ke,n as we,o as Te,p as We,q as R,r as ce,s as Ge,t as He,u as xe,w as Se,x as $e,y as Qe,z as Ve,A as Ce,B as Ye,C as Xe,D as de,F as Le,G as Ze,H as et,I as tt,J as ot,K as at}from"./element-f643597f.js";import{cH as lt,b7 as x,o as s,c as V,bT as z,bA as K,bz as E,bY as oe,bN as y,bM as l,bS as P,bJ as m,bp as I,cc as F,bQ as L,bR as M,bF as W,bP as H,cI as ae,bx as _e,ct as nt,ba as le,cJ as ne,br as Ie,bt as Z,b4 as B,b1 as st,bD as rt,b8 as Ee,bO as ee,cK as ut,cu as me,cL as ct,cM as it,by as te,cN as pt,bb as dt,b9 as _t,cO as mt}from"./chunks-758e958d.js";import{u as ft,e as bt,i as ht,a as vt,b as gt,c as yt,d as kt,f as wt,g as Tt,h as xt,j as St,k as $t,l as Vt}from"./echarts-b270c533.js";import{m as ve,a as Ct}from"./docs-da167627.js";const Lt="modulepreload",It=function(u,a){return new URL(u,a).href},ge={},G=function(a,n,t){if(!n||n.length===0)return a();const r=document.getElementsByTagName("link");return Promise.all(n.map(e=>{if(e=It(e,t),e in ge)return;ge[e]=!0;const o=e.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(!!t)for(let _=r.length-1;_>=0;_--){const h=r[_];if(h.href===e&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Lt,o||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),o)return new Promise((_,h)=>{c.addEventListener("load",_),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>a()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},Fo=[{path:"/singleList",name:"singleList",component:()=>G(()=>Promise.resolve().then(()=>qt),void 0,import.meta.url),meta:{title:"简单列表",auth:"singleList"}},{path:"/pageList",name:"pageList",component:()=>G(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url),meta:{title:"分页列表",auth:"pageList"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>G(()=>Promise.resolve().then(()=>Ht),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>G(()=>Promise.resolve().then(()=>ue),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>G(()=>Promise.resolve().then(()=>ue),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>G(()=>Promise.resolve().then(()=>ue),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>G(()=>Promise.resolve().then(()=>to),void 0,import.meta.url),meta:{title:"echart",keepAlive:!1}},{path:"/docs",name:"docs",component:()=>G(()=>Promise.resolve().then(()=>ao),void 0,import.meta.url),meta:{title:"docs"}}];async function A(u,a){return await fetch(u,{body:a&&JSON.stringify(a),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(n=>n.json()).catch(n=>{})}const ze=async()=>{let u={};const a=sessionStorage.getItem("options");if(a)Object.assign(u,JSON.parse(a));else{const{result:n}=await A("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});n.length&&(n.forEach(t=>{u[t.type]||(u[t.type]=[]),u[t.type].push(t)}),sessionStorage.setItem("options",JSON.stringify(u)))}return u},Do=async u=>{const{result:[a]}=await A("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"auth",search:{path:u}});return(a==null?void 0:a.auth)||""},Et=async u=>{const{result:a}=await A("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:u});return a},fe=lt("auth",()=>{const u=x({});function a(r,e){u.value[r]=e}function n(r){delete u.value[r]}function t(r,e){var o;return!!(r&&((o=u.value[r])!=null&&o.includes(e)))}return{authModel:u,setAuth:a,removeAuth:n,checkAuth:t}});const j=(u,a)=>{const n=u.__vccOpts||u;for(const[t,r]of a)n[t]=r;return n},zt={},Pt={class:"flex"},Mt={class:"flex-header"},Ot={class:"flex-content"},Rt={class:"flex-footer"};function Ft(u,a){return s(),V("div",Pt,[z("div",Mt,[K(u.$slots,"header",{},void 0,!0)]),z("div",Ot,[K(u.$slots,"default",{},void 0,!0)]),z("div",Rt,[K(u.$slots,"footer",{},void 0,!0)])])}const be=j(zt,[["render",Ft],["__scopeId","data-v-7b6cd6f1"]]),Dt=["textContent"],Pe=E({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(u,{expose:a,emit:n}){const t=x(!1),r=x();function e(i){t.value=i}function o(i){n("selection-change",i)}return a({setLoading:e}),(i,p)=>{const c=Fe,_=Q,h=De,w=ie;return oe((s(),y(h,{onSelectionChange:o,ref_key:"tableModelRef",ref:r,data:u.data,height:"100%",border:""},{default:l(()=>[u.selection?(s(),y(c,{key:0,type:"selection",width:"55"})):P("",!0),m(c,{type:"index",width:"50"}),(s(!0),V(I,null,F(u.header,d=>(s(),y(c,{key:d.prop,prop:d.prop,width:d.width,label:d.label,fixed:d.fixed,sortable:d.sortable},{default:l(({row:v})=>[K(i.$slots,d.prop,{row:v},()=>{var $;return[d.prop==="action"?(s(!0),V(I,{key:0},F(($=d.options)==null?void 0:$.filter(T=>T.auth!==!1),T=>(s(),y(_,{key:T.name,link:"",type:"primary",onClick:f=>T.onClick(v)},{default:l(()=>[L(M(T.name),1)]),_:2},1032,["onClick"]))),128)):(s(),V("div",{key:1,textContent:M(v[d.prop])},null,8,Dt))]})]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[w,t.value]])}}}),At=E({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(u,{expose:a,emit:n}){const t=u,r=x(),e=W(t.formData),o=x(!1),i=async()=>{var v;let d=W({valid:!1,data:e,fields:null});return await((v=r.value)==null?void 0:v.validate(($,T)=>{$?d.valid=!0:(console.log("error submit!",T),d.fields=T)})),d},p=()=>{c(),n("submit")},c=()=>{var d;w(!1),(d=r.value)==null||d.resetFields()},_=d=>{var v;(v=r.value)==null||v.validateField(d)},h=(d,v)=>{e[d]=v},w=d=>{o.value=d};return a({submitForm:i,resetFields:c,validateField:_,changeValue:h,setLoading:w}),(d,v)=>{const $=pe,T=Ae,f=Be,g=Ue,C=je,q=qe,N=Ne,k=Je,O=Ke,J=ye,Y=ke,D=Q,U=we,X=Te;return s(),y(X,{class:"formModel",size:d.size,inline:d.inline,ref_key:"ruleFormRef",ref:r,model:e,"label-width":d.labelWidth},{default:l(()=>[(s(!0),V(I,null,F(d.formItem,b=>(s(),y(U,{key:b.prop,label:b.label,prop:b.prop,rules:b.rules},{default:l(()=>[m(Y,{wrap:""},{default:l(()=>[b.type==="input"?(s(),y($,{key:0,style:H(b.style||d.itemStyle),maxlength:b.maxlength,"show-word-limit":"",modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):P("",!0),b.type==="input-number"?(s(),y(T,{key:1,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S,min:b.min,max:b.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):P("",!0),b.type==="select"?(s(),y(g,{key:2,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S,placeholder:"请选择",clearable:"",filterable:"",multiple:b.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:l(()=>[(s(!0),V(I,null,F(b.options,S=>(s(),y(f,{label:S.label,value:S.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):P("",!0),b.type==="date"?(s(),y(C,{key:3,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S,type:b.dateType,format:b.format,"value-format":b.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):P("",!0),b.type==="switch"?(s(),y(q,{key:4,modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S},null,8,["modelValue","onUpdate:modelValue"])):P("",!0),b.type==="checkbox"?(s(),y(k,{key:5,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S},{default:l(()=>[(s(!0),V(I,null,F(b.options,S=>(s(),y(N,{key:S.label,label:S.label,name:b.prop},{default:l(()=>[L(M(S.name||S.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):P("",!0),b.type==="radio"?(s(),y(J,{key:6,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S},{default:l(()=>[(s(!0),V(I,null,F(b.options,S=>(s(),y(O,{key:S.label,label:S.label},{default:l(()=>[L(M(S.name||S.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):P("",!0),b.type==="textarea"?(s(),y($,{key:7,style:H(b.style||d.itemStyle),modelValue:e[b.prop],"onUpdate:modelValue":S=>e[b.prop]=S,type:"textarea",rows:b.row,maxlength:b.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):P("",!0),K(d.$slots,b.prop,{item:b},void 0,!0)]),_:2},1024),b.prop==="searchBtn"?(s(),V(I,{key:0},[m(D,{type:"primary",onClick:v[0]||(v[0]=S=>n("submit")),disabled:o.value},{default:l(()=>[L("查询")]),_:1},8,["disabled"]),m(D,{disabled:o.value,onClick:p},{default:l(()=>[L("重置")]),_:1},8,["disabled"])],64)):P("",!0),b.prop==="submitBtn"?(s(),V(I,{key:1},[m(D,{type:"primary",onClick:v[1]||(v[1]=S=>n("submit")),disabled:o.value},{default:l(()=>[L("提交")]),_:1},8,["disabled"]),m(D,{disabled:o.value,onClick:v[2]||(v[2]=S=>n("close"))},{default:l(()=>[L("关闭")]),_:1},8,["disabled"])],64)):P("",!0)]),_:2},1032,["label","prop","rules"]))),128)),m(U,null,{default:l(()=>[K(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const se=j(At,[["__scopeId","data-v-2fefee11"]]),Me=E({__name:"auth",props:{type:{}},setup(u){const a=u,n=ae(),{checkAuth:t}=fe(),r=x(!1);return _e(()=>{var o;const e=((o=n.meta)==null?void 0:o.auth)||"";r.value=!!e&&t(e,a.type)}),(e,o)=>r.value?K(e.$slots,"default",{key:0}):P("",!0)}}),Bt=E({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(u,{emit:a}){const n=()=>{a("update:modelValue",!1),a("close")};return(t,r)=>{const e=We;return s(),y(e,{"model-value":t.modelValue,title:t.title,width:t.width,draggable:t.draggable,onClosed:n,"close-on-click-modal":!1},nt({default:l(()=>[K(t.$slots,"default")]),_:2},[t.showFooter?{name:"footer",fn:l(()=>[K(t.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),Ut=E({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(u,{emit:a}){const n=u,t=x(),r=W({label:"",value:"",type:"type"}),e=W([{label:"类型",prop:"type",type:"select",options:n.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),o=async()=>{var _,h;const{valid:p,data:c}=await((_=t.value)==null?void 0:_.submitForm());p&&((h=t.value)==null||h.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/addOption",c).then(({success:w,result:d})=>{var v;w?(R.success("添加成功"),i(),a("submit")):(R.error(d||"添加失败"),(v=t.value)==null||v.setLoading(!1))}).catch(()=>{var w;R.error("添加失败"),(w=t.value)==null||w.setLoading(!1)}))},i=()=>{var p;(p=t.value)==null||p.resetFields(),a("update:modelValue",!1)};return(p,c)=>{const _=se,h=Bt;return s(),y(h,{title:"新增","model-value":u.modelValue,width:"400px",onClose:i},{default:l(()=>[m(_,{"label-width":"90px",ref_key:"ruleFormRef",ref:t,formData:r,formItem:e,onSubmit:o,onClose:i},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),jt=E({__name:"singleList",setup(u){const{checkAuth:a}=fe(),n=x([]),t=x(),r=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:w=>_(w),auth:a("singleList","del")}]}],e=x(!1),o=x(),i=W({type:"",label:""}),p=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],c=W([{label:"类型",prop:"type",type:"select",options:p},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),_=w=>{ce.alert(`确定删除${w.label}`,"删除",{confirmButtonText:"OK",callback:d=>{d==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:w._id}).then(({success:v})=>{v?(R.success("删除成功"),h()):R.error("删除失败")})}})},h=async()=>{var d,v,$;const{data:w}=await((d=o.value)==null?void 0:d.submitForm());n.value=[],(v=t.value)==null||v.setLoading(!0),($=o.value)==null||$.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:w}).then(T=>{var f,g;n.value=T.result,(f=t.value)==null||f.setLoading(!1),(g=o.value)==null||g.setLoading(!1)}).catch(()=>{var T,f;(T=t.value)==null||T.setLoading(!1),(f=o.value)==null||f.setLoading(!1)})};return le(()=>{h()}),(w,d)=>{const v=Q,$=Me,T=se,f=Pe,g=be;return s(),y(g,null,{header:l(()=>[m(T,{inline:"",ref_key:"searchFormRef",ref:o,formData:i,formItem:c,onSubmit:h},{default:l(()=>[m($,{type:"add"},{default:l(()=>[m(v,{type:"primary",onClick:d[0]||(d[0]=C=>e.value=!0)},{default:l(()=>[L("新增")]),_:1})]),_:1})]),_:1},8,["formData","formItem"])]),default:l(()=>[m(f,{data:n.value,ref_key:"tableRef",ref:t,header:r},null,8,["data"]),m(Ut,{onSubmit:h,modelValue:e.value,"onUpdate:modelValue":d[1]||(d[1]=C=>e.value=C),typeOptions:p},null,8,["modelValue"])]),_:1})}}}),qt=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:"Module"})),Nt=E({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(u,{emit:a}){const n=u,t=x(1),r=x(n.defaultPageSize),e=i=>{t.value=1,a("size-change",i)},o=i=>a("current-change",i);return(i,p)=>{const c=Ge;return s(),y(c,{class:"pagination","current-page":t.value,"onUpdate:currentPage":p[0]||(p[0]=_=>t.value=_),"page-size":r.value,"onUpdate:pageSize":p[1]||(p[1]=_=>r.value=_),background:n.background,small:n.small,layout:n.layout,total:n.total,"page-sizes":n.pageSizes,"default-page-size":n.defaultPageSize,onSizeChange:e,onCurrentChange:o},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const Jt=j(Nt,[["__scopeId","data-v-b2e93b00"]]),Kt=E({__name:"pageList",setup(u){const{checkAuth:a}=fe(),n=ne(),t=W({page:1,total:0,size:20}),r=x({}),e=x([]),o=x([]),i=x(),p=x(),c=W({type:"",name:""}),_=Ie(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:r.value.region},{label:"活动分类",prop:"type",type:"select",options:r.value.type},{prop:"searchBtn"}]),h=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:k=>T(k),auth:a("pageList","view")},{name:"编辑",onClick:k=>f(k),auth:a("pageList","edit")},{name:"复制",onClick:k=>g(k),auth:a("pageList","copy")},{name:"删除",onClick:k=>C(k),auth:a("pageList","del")}]}],w=k=>{t.size=k,t.page=1,v()},d=k=>{t.page=k,v()},v=async()=>{var O,J,Y;const{data:k}=await((O=p.value)==null?void 0:O.submitForm());(J=i.value)==null||J.setLoading(!0),(Y=p.value)==null||Y.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:t.size,page:t.page,search:k}).then(D=>{var U,X;e.value=D.result||[],t.total=D.total||0,(U=i.value)==null||U.setLoading(!1),(X=p.value)==null||X.setLoading(!1)}).catch(()=>{var D,U;e.value=[],t.total=0,(D=i.value)==null||D.setLoading(!1),(U=p.value)==null||U.setLoading(!1)})},$=()=>{n.push("/addForm")},T=k=>{n.push(`/detailInfo/${k._id}`)},f=k=>{n.push(`/editForm/${k._id}`)},g=k=>{n.push(`/copyForm/${k._id}`)},C=k=>{ce.alert(`确定删除${k.name}`,"删除",{confirmButtonText:"OK",callback:O=>{O==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:k._id}).then(({success:J})=>{J?(R.success("删除成功"),v()):R.error("删除失败")})}})},q=k=>{o.value=k},N=()=>{ce.alert(`确定删除${o.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:k=>{k==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:o.value.map(O=>O._id)}).then(({success:O})=>{O?(R.success("删除成功"),v()):R.error("删除失败")})}})};return _e(async()=>{r.value=await ze(),v()}),(k,O)=>{const J=Q,Y=Me,D=se,U=He,X=ke,b=Pe,S=Jt,Re=be;return s(),y(Re,null,{header:l(()=>[m(D,{inline:"",ref_key:"searchFormRef",ref:p,formData:c,formItem:_.value,onSubmit:v},{default:l(()=>[m(Y,{type:"add"},{default:l(()=>[m(J,{type:"primary",onClick:$},{default:l(()=>[L("新增")]),_:1})]),_:1}),m(Y,{type:"del"},{default:l(()=>[m(J,{type:"primary",disabled:!o.value.length,onClick:N},{default:l(()=>[L("批量删除")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["formData","formItem"])]),footer:l(()=>[m(S,{ref:"pageModel",total:t.total,"default-page-size":20,onSizeChange:w,onCurrentChange:d},null,8,["total"])]),default:l(()=>[m(b,{onSelectionChange:q,selection:"",data:e.value,ref_key:"tableRef",ref:i,header:h},{region:l(({row:re})=>[L(M(re.region.join()),1)]),type:l(({row:re})=>[m(X,{wrap:""},{default:l(()=>[(s(!0),V(I,null,F(re.type,he=>(s(),y(U,{key:he},{default:l(()=>[L(M(he),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Gt=E({__name:"detailInfo",setup(u){const a=Z("replaceTab"),n=Z("removeTab"),t=Z("reloadTab"),r=ae(),e=x({}),o=x(!0),i=()=>{a({title:"分页列表",path:"/pageList",closable:!0})};return le(async()=>{const p=await Et(r.params.id);e.value=p,o.value=!1}),(p,c)=>{const _=Q,h=Se,w=xe,d=ie;return oe((s(),y(w,{column:1,border:""},{extra:l(()=>[m(_,{onClick:i},{default:l(()=>[L("返回列表")]),_:1}),m(_,{onClick:c[0]||(c[0]=v=>B(n)(p.$route.path))},{default:l(()=>[L("关闭")]),_:1}),m(_,{onClick:c[1]||(c[1]=v=>B(t)(p.$route.path))},{default:l(()=>[L("刷新页签")]),_:1})]),default:l(()=>[(s(!0),V(I,null,F(Object.keys(e.value),v=>(s(),y(h,{key:v,label:v},{default:l(()=>[L(M(e.value[v]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[d,o.value]])}}}),Ht=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),Qt=E({__name:"formPage",setup(u){const a=Z("removeTab"),n=Z("reloadTab"),t=ae(),r=t.params.id,e=t.params.copyId,o=x(!0),i=x(),p=W({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),c=x({}),_=Ie(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:c.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],dateType:"datetimerange",type:"date",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:c.value.type},{label:"资源类型",prop:"resource",type:"radio",options:c.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),h=async()=>{var f;const{valid:$,data:T}=await((f=i.value)==null?void 0:f.submitForm());$&&(r?A("https://5ykenqzacs.hk.aircode.run/editItem",{data:T,id:r,type:"demoList"}).then(({success:g})=>{g?(R.success("修改成功"),w()):R.error("修改失败")}):A("https://5ykenqzacs.hk.aircode.run/addItem",{data:T,type:"demoList"}).then(({success:g})=>{g?(R.success("提交成功"),w()):R.error("提交失败")}))},w=()=>{n("/pageList"),a(t.path)},d=($,T)=>{var f;(f=i.value)==null||f.changeValue($,T)},v=$=>{A("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:$}).then(({success:T,result:f})=>{T&&f&&Object.keys(f).forEach(g=>{["_id","updatedAt","createdAt"].includes(g)||(p[g]=f[g])})})};return _e(async()=>{c.value=await ze(),(r||e)&&await v(r||e),o.value=!1}),($,T)=>{const f=Q,g=pe,C=se,q=$e,N=ie;return s(),y(q,null,{default:l(()=>[oe((s(),y(C,{ref_key:"ruleFormRef",ref:i,formData:p,formItem:_.value,"label-width":"120px",onSubmit:h,onClose:T[2]||(T[2]=k=>B(a)($.$route.path))},{name:l(()=>[m(f,{type:"primary",onClick:T[0]||(T[0]=k=>d("name","test"))},{default:l(()=>[L("修改活动名称")]),_:1})]),test:l(()=>[m(g,{modelValue:p.test,"onUpdate:modelValue":T[1]||(T[1]=k=>p.test=k)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[N,o.value]])]),_:1})}}}),ue=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));ft([ht,vt,gt,yt,kt,wt,Tt,xt,St,$t,Vt]);const Yt={echarts:bt},Xt=E({__name:"echartModel",props:{options:{}},setup(u,{expose:a}){const n=u,t=x(null),r=st(),e=o=>{var i;(i=r.value)==null||i.resize(o)};return le(()=>{var o;r.value=Yt.echarts.init(t.value),(o=r.value)==null||o.setOption(n.options),window.addEventListener("resize",e)}),rt(()=>{window.removeEventListener("resize",e)}),Ee(()=>n.options,o=>{var i;(i=r.value)==null||i.setOption(o)},{deep:!0}),a({resize:e}),(o,i)=>(s(),V("div",{class:"chartDomStyle",ref_key:"chartDom",ref:t},null,512))}});const Zt=j(Xt,[["__scopeId","data-v-32818e74"]]),eo=E({__name:"echartPage",setup(u){const a=i=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:i}]}),n=x("300px"),t=x(),r=x("bar");function e(i){var p;(p=t.value)==null||p.resize({height:i})}function o(i){r.value=i}return(i,p)=>{const c=Qe,_=ye,h=Zt;return s(),V(I,null,[m(_,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=w=>n.value=w),onChange:e},{default:l(()=>[m(c,{label:"300px"}),m(c,{label:"500px"})]),_:1},8,["modelValue"]),m(_,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=w=>r.value=w),onChange:o},{default:l(()=>[m(c,{label:"bar"}),m(c,{label:"line"})]),_:1},8,["modelValue"]),z("div",{class:"chartDom",style:H({height:n.value})},[m(h,{ref_key:"chartDom",ref:t,options:a(r.value)},null,8,["options"])],4)],64)}}});const to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),oo=E({__name:"md",setup(u){const a=x(ve[0]);return(n,t)=>{const r=Ce,e=Ve;return s(),V(I,null,[m(e,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o)},{default:l(()=>[(s(!0),V(I,null,F(B(ve),o=>(s(),y(r,{name:o,key:o,label:o},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),(s(),y(ee(B(Ct)[a.value])))],64)}}}),ao=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),lo={class:"version"},no=E({__name:"loginPage",setup(u){var c,_;const a=ne(),n=x(),t=x({username:"",password:""}),r=Z("log"),e=(c=document.querySelector('meta[name="version"]'))==null?void 0:c.getAttribute("content"),o=(_=document.querySelector('meta[name="buildTime"]'))==null?void 0:_.getAttribute("content"),i=x(!1),p=()=>{i.value=!0,setTimeout(()=>{i.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",t.value.username),a.push("/home")},1e3)};return le(()=>{var h;r("version",e),r("buildTime",o),(h=n.value)==null||h.input.focus()}),(h,w)=>{const d=pe,v=we,$=Q,T=Te,f=Ye,g=be;return s(),y(g,null,{footer:l(()=>[z("div",lo,"vue3-web-demo "+M(B(e))+" "+M(B(o)),1)]),default:l(()=>[m(f,{class:"box-card",header:h.$translate("home.title")},{default:l(()=>[m(T,{"label-width":"80px",model:t.value},{default:l(()=>[m(v,{label:"帐号"},{default:l(()=>[m(d,{ref_key:"input",ref:n,modelValue:t.value.username,"onUpdate:modelValue":w[0]||(w[0]=C=>t.value.username=C),maxLength:"10"},null,8,["modelValue"])]),_:1}),m(v,{label:"密码"},{default:l(()=>[m(d,{modelValue:t.value.password,"onUpdate:modelValue":w[1]||(w[1]=C=>t.value.password=C),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),m(v,null,{default:l(()=>[m($,{type:"primary",loading:i.value,disabled:!t.value.username||!t.value.password,onClick:p},{default:l(()=>[L("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["header"])]),_:1})}}});const so=j(no,[["__scopeId","data-v-25e5e112"]]),Ao=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),ro=["onContextmenu"],uo=E({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},emits:["reloadTab","delCache"],setup(u,{expose:a,emit:n}){const t=u,r=ne(),e=x([t.homeTab]),o=x(e.value[0].path),i=f=>{e.value.find(C=>C.path===f.path)||e.value.push(f),o.value=f.path},p=f=>{const g=e.value;if(o.value===f){const C=g.findIndex(N=>N.path===f),q=g[C+1]||g[C-1]||g[0];o.value=q.path}n("delCache",f),e.value=e.value.filter(C=>C.path!==f)},c=x(!1),_=x(""),h=x(),w=(f,g)=>{f.preventDefault(),h.value=f.currentTarget,c.value=!0,_.value=g},d=()=>{$();let f=[];e.value.filter(g=>{g.closable!==!1?n("delCache",g.path):f.push(g)}),e.value=f,o.value=e.value[0].path},v=()=>{$();let f=[];e.value.filter(g=>{_.value!==g.path&&g.closable!==!1?n("delCache",g.path):f.push(g)}),e.value=f,o.value=_.value},$=()=>{c.value=!1},T=f=>{let g=e.value.find(C=>C.path===f);g&&r.currentRoute.value.path!==g.path&&r.push(g.path)};return a({addTab:i,removeTab:p}),Ee(()=>r.currentRoute.value.path,f=>{const{title:g,closable:C=!0}=r.currentRoute.value.meta;i({title:g,closable:C,path:f})}),(f,g)=>{const C=Ce,q=Xe,N=Ve;return s(),y(N,{modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=k=>o.value=k),type:"card",class:"tabMenu",onTabRemove:p,onTabChange:T},{default:l(()=>[(s(!0),V(I,null,F(e.value,k=>(s(),y(C,{key:k.path,name:k.path,label:k.title,closable:k.closable!==!1},{label:l(()=>[oe((s(),V("div",{class:"tabMenu_tab",onContextmenu:O=>w(O,k.path)},[L(M(k.title),1)],40,ro)),[[B(ut),$]])]),_:2},1032,["name","label","closable"]))),128)),m(q,{ref:"tooltipRef","virtual-ref":h.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:c.value},{default:l(()=>[z("ul",null,[z("li",{onClick:g[0]||(g[0]=k=>n("reloadTab",_.value))},"刷新页面"),z("li",{onClick:v},"关闭其他"),z("li",{onClick:d},"关闭所有")])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const co=j(uo,[["__scopeId","data-v-a4a82c8d"]]),io=E({__name:"subMenu",props:["i"],emits:["addTab"],setup(u,{emit:a}){return(n,t)=>{const r=de,e=Le,o=me("subMenu",!0),i=Ze;return s(),y(i,{index:u.i.title+u.i.path},{title:l(()=>[u.i.icon?(s(),y(r,{key:0},{default:l(()=>[(s(),y(ee(u.i.icon)))]),_:1})):P("",!0),z("span",null,M(u.i.title),1)]),default:l(()=>[(s(!0),V(I,null,F(u.i.children,p=>(s(),V(I,{key:p.path},[!p.children||!p.children.length?(s(),y(e,{key:0,onClick:c=>a("addTab",p),index:p.path},{default:l(()=>[L(M(p.title),1)]),_:2},1032,["onClick","index"])):(s(),y(o,{key:1,i:p,onAddTab:t[0]||(t[0]=c=>a("addTab",c))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),po=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",path:"/pageList"},{title:"表单",path:"/addForm"},{title:"图表",path:"/echartPage"}]},{title:"文档",icon:"Notebook",path:"/docs"}],_o=E({__name:"sideBar",emits:["addTab"],setup(u,{emit:a}){return(n,t)=>{const r=de,e=Le,o=io,i=$e,p=et;return s(),y(p,{class:"side-bar"},{default:l(()=>[m(i,null,{default:l(()=>[(s(!0),V(I,null,F(B(po),c=>(s(),V(I,{key:c.title},[!c.children||!c.children.length?(s(),y(e,{key:0,index:c.title+c.path,onClick:_=>a("addTab",c)},{default:l(()=>[c.icon?(s(),y(r,{key:0},{default:l(()=>[(s(),y(ee(c.icon)))]),_:2},1024)):P("",!0),z("span",null,M(c.title),1)]),_:2},1032,["index","onClick"])):(s(),y(o,{key:1,i:c,onAddTab:t[0]||(t[0]=_=>a("addTab",_))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const mo=j(_o,[["__scopeId","data-v-9c62f71b"]]),fo=""+new URL("../logo.svg",import.meta.url).href,Oe=u=>(ct("data-v-0c6f20b0"),u=u(),it(),u),bo={class:"top-bar"},ho=Oe(()=>z("img",{src:fo,class:"top-bar-icon",alt:""},null,-1)),vo=Oe(()=>z("span",{class:"top-bar-text"},"vue3+element-plus",-1)),go=E({__name:"topBar",setup(u){const a=ne(),n=sessionStorage.getItem("username"),t=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),a.push("/login")};return(r,e)=>{const o=tt,i=me("SwitchButton"),p=de,c=ot,_=at;return s(),V("div",bo,[m(_,{gutter:20},{default:l(()=>[m(o,{span:12},{default:l(()=>[ho,vo]),_:1}),m(o,{span:4,offset:8,class:"top-bar-right"},{default:l(()=>[m(c,{underline:!1,onClick:t},{default:l(()=>[L(M(B(n)),1),m(p,{class:"el-icon--right"},{default:l(()=>[m(i)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const yo=j(go,[["__scopeId","data-v-0c6f20b0"]]),ko={class:"home-waper"},wo={class:"home-waper-top"},To={class:"home-waper-body"},xo={class:"home-waper-content"},So={class:"home-waper-view"},$o=E({__name:"waper",setup(u){const a=x(),n=x(!0),t=x(),r=ae();function e(_){var h;(h=t==null?void 0:t.value.$.__v_cache)==null||h.delete(_)}function o(_){e(_),n.value=!1,dt(()=>{n.value=!0})}function i(_){var h;(h=a.value)==null||h.addTab(_)}function p(_){var h;(h=a.value)==null||h.removeTab(_)}function c(_){var h,w;(h=a.value)==null||h.removeTab(r.path),(w=a.value)==null||w.addTab(_)}return te("addTab",i),te("removeTab",p),te("reloadTab",o),te("replaceTab",c),(_,h)=>{const w=yo,d=mo,v=co,$=me("router-view");return s(),V("div",ko,[z("div",wo,[m(w)]),z("div",To,[m(d,{onAddTab:i}),z("div",xo,[m(v,{ref_key:"tabMenuRef",ref:a,onDelCache:e,onReloadTab:o},null,512),z("div",So,[m($,null,{default:l(({Component:T,route:f})=>[(s(),y(pt,{ref_key:"tabTool",ref:t},[n.value&&f.meta.keepAlive!==!1?(s(),y(ee(T),{key:f.fullPath})):P("",!0)],1536)),n.value&&f.meta.keepAlive===!1?(s(),y(ee(T),{key:f.fullPath})):P("",!0)]),_:1})])])])])}}});const Vo=j($o,[["__scopeId","data-v-401884ee"]]),Bo=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),Co=()=>_t().proxy,Lo=E({__name:"home",setup(u){const a=Co(),{toggle:n,isFullscreen:t}=mt(),r=x(a.$translate("home.title")),e=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(o,i)=>{const p=Se,c=xe,_=Q;return s(),V(I,null,[m(c,{title:r.value,column:1,border:""},{default:l(()=>[(s(),V(I,null,F(e,h=>m(p,{key:h.label,label:h.label},{default:l(()=>[L(M(h.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"]),m(_,{onClick:B(n)},{default:l(()=>[L(M(B(t)?"退出全屏":"全屏"),1)]),_:1},8,["onClick"])],64)}}}),Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"})),Io={};function Eo(u,a){return s(),V("div",null,"404")}const zo=j(Io,[["render",Eo]]),jo=Object.freeze(Object.defineProperty({__proto__:null,default:zo},Symbol.toStringTag,{value:"Module"}));export{G as _,jo as a,Do as g,Uo as h,Ao as l,Fo as r,fe as u,Bo as w};
