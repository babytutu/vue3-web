import{E as Ee,a as K,b as ze,v as ne,c as se,d as Re,e as Me,f as Fe,g as Oe,h as Pe,i as Be,j as De,k as Ue,l as Ae,m as me,n as fe,o as be,p as je,q as F,r as ae,s as qe,t as Ne,u as ve,w as ge,x as he,y as Je,z as Ge,A as ye,B as He,C as Ke,D as re,F as ke,G as We,H as Ze,I as Qe,J as Xe}from"./element-c1fbf913.js";import{I as a,J as T,a4 as R,H as G,G as z,t as V,a9 as X,_ as b,Z as l,a3 as M,U as f,F as E,at as B,a1 as C,a2 as O,P as N,a0 as H,aL as Ye,o as we,b2 as et,b3 as Y,l as Se,D as xe,b4 as tt,r as Ve,b5 as Le,u as ee,n as ot,aM as ue,$ as ce,b6 as lt,b7 as at,E as pe,b8 as nt}from"./chunks-233b8f97.js";const st="modulepreload",rt=function(s,r){return new URL(s,r).href},_e={},Q=function(r,n,t){if(!n||n.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(n.map(e=>{if(e=rt(e,t),e in _e)return;_e[e]=!0;const d=e.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(!!t)for(let v=o.length-1;v>=0;v--){const y=o[v];if(y.href===e&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${m}`))return;const i=document.createElement("link");if(i.rel=d?"stylesheet":st,d||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),d)return new Promise((v,y)=>{i.addEventListener("load",v),i.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>r())},to=[{path:"/singleList",name:"singleList",component:()=>Q(()=>Promise.resolve().then(()=>ht),void 0,import.meta.url),meta:{title:"简单列表"}},{path:"/pageList",name:"pageList",component:()=>Q(()=>Promise.resolve().then(()=>St),void 0,import.meta.url),meta:{title:"分页列表"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>Q(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>Q(()=>Promise.resolve().then(()=>le),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>Q(()=>Promise.resolve().then(()=>le),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>Q(()=>Promise.resolve().then(()=>le),void 0,import.meta.url),meta:{title:"复制"}}];const J=(s,r)=>{const n=s.__vccOpts||s;for(const[t,o]of r)n[t]=o;return n},ut={},ct={class:"flex"},it={class:"flex-header"},dt={class:"flex-content"},pt={class:"flex-footer"};function _t(s,r){return a(),T("div",ct,[R("div",it,[G(s.$slots,"header",{},void 0,!0)]),R("div",dt,[G(s.$slots,"default",{},void 0,!0)]),R("div",pt,[G(s.$slots,"footer",{},void 0,!0)])])}const ie=J(ut,[["render",_t],["__scopeId","data-v-f135e414"]]),mt=["textContent"],Te=z({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(s,{expose:r,emit:n}){const t=V(!1),o=V();function e(m){t.value=m}function d(m){n("selection-change",m)}return r({setLoading:e}),(m,p)=>{const i=Ee,v=K,y=ze,k=ne;return X((a(),b(y,{onSelectionChange:d,ref_key:"tableModelRef",ref:o,data:s.data,height:"100%",border:""},{default:l(()=>[s.selection?(a(),b(i,{key:0,type:"selection",width:"55"})):M("",!0),f(i,{type:"index",width:"50"}),(a(!0),T(E,null,B(s.header,u=>(a(),b(i,{key:u.prop,prop:u.prop,width:u.width,label:u.label,fixed:u.fixed,sortable:u.sortable},{default:l(({row:g})=>[G(m.$slots,u.prop,{row:g},()=>[u.prop==="action"?(a(!0),T(E,{key:0},B(u.options,L=>(a(),b(v,{key:L.name,link:"",type:"primary",onClick:x=>L.onClick(g)},{default:l(()=>[C(O(L.name),1)]),_:2},1032,["onClick"]))),128)):(a(),T("div",{key:1,textContent:O(g[u.prop])},null,8,mt))])]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[k,t.value]])}}}),ft=z({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(s,{expose:r,emit:n}){const t=s,o=V(),e=N(t.formData),d=V(!1),m=async()=>{var g;let u=N({valid:!1,data:e,fields:null});return await((g=o.value)==null?void 0:g.validate((L,x)=>{L?u.valid=!0:(console.log("error submit!",x),u.fields=x)})),u},p=()=>{i(),n("submit")},i=()=>{var u;k(!1),(u=o.value)==null||u.resetFields()},v=u=>{var g;(g=o.value)==null||g.validateField(u)},y=(u,g)=>{e[u]=g},k=u=>{d.value=u};return r({submitForm:m,resetFields:i,validateField:v,changeValue:y,setLoading:k}),(u,g)=>{const L=se,x=Re,_=Me,S=Fe,I=Oe,A=Pe,q=Be,h=De,$=Ue,D=Ae,W=me,P=K,j=fe,Z=be;return a(),b(Z,{class:"formModel",size:u.size,inline:u.inline,ref_key:"ruleFormRef",ref:o,model:e,"label-width":u.labelWidth},{default:l(()=>[(a(!0),T(E,null,B(u.formItem,c=>(a(),b(j,{key:c.prop,label:c.label,prop:c.prop,rules:c.rules},{default:l(()=>[f(W,{wrap:""},{default:l(()=>[c.type==="input"?(a(),b(L,{key:0,style:H(c.style||u.itemStyle),maxlength:c.maxlength,"show-word-limit":"",modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):M("",!0),c.type==="input-number"?(a(),b(x,{key:1,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w,min:c.min,max:c.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):M("",!0),c.type==="select"?(a(),b(S,{key:2,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w,placeholder:"请选择",clearable:"",filterable:"",multiple:c.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:l(()=>[(a(!0),T(E,null,B(c.options,w=>(a(),b(_,{label:w.label,value:w.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):M("",!0),c.type&&["date","datetime","datetimerange","daterange"].includes(c.type)?(a(),b(I,{key:3,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w,type:c.type,format:c.format,"value-format":c.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):M("",!0),c.type==="switch"?(a(),b(A,{key:4,modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),c.type==="checkbox"?(a(),b(h,{key:5,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w},{default:l(()=>[(a(!0),T(E,null,B(c.options,w=>(a(),b(q,{key:w.label,label:w.label,name:c.prop},{default:l(()=>[C(O(w.name||w.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),c.type==="radio"?(a(),b(D,{key:6,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w},{default:l(()=>[(a(!0),T(E,null,B(c.options,w=>(a(),b($,{key:w.label,label:w.label},{default:l(()=>[C(O(w.name||w.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),c.type==="textarea"?(a(),b(L,{key:7,style:H(c.style||u.itemStyle),modelValue:e[c.prop],"onUpdate:modelValue":w=>e[c.prop]=w,type:"textarea",rows:c.row,maxlength:c.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):M("",!0),G(u.$slots,c.prop,{item:c},void 0,!0)]),_:2},1024),c.prop==="searchBtn"?(a(),T(E,{key:0},[f(P,{type:"primary",onClick:g[0]||(g[0]=w=>n("submit")),disabled:d.value},{default:l(()=>[C("查询")]),_:1},8,["disabled"]),f(P,{disabled:d.value,onClick:p},{default:l(()=>[C("重置")]),_:1},8,["disabled"])],64)):M("",!0),c.prop==="submitBtn"?(a(),T(E,{key:1},[f(P,{type:"primary",onClick:g[1]||(g[1]=w=>n("submit")),disabled:d.value},{default:l(()=>[C("提交")]),_:1},8,["disabled"]),f(P,{disabled:d.value,onClick:g[2]||(g[2]=w=>n("close"))},{default:l(()=>[C("关闭")]),_:1},8,["disabled"])],64)):M("",!0)]),_:2},1032,["label","prop","rules"]))),128)),f(j,null,{default:l(()=>[G(u.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const te=J(ft,[["__scopeId","data-v-67bdd3df"]]);async function U(s,r){return await fetch(s,{body:r&&JSON.stringify(r),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(n=>n.json())}const bt=z({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(s,{emit:r}){const n=()=>{r("update:modelValue",!1),r("close")};return(t,o)=>{const e=je;return a(),b(e,{"model-value":t.modelValue,title:t.title,width:t.width,draggable:t.draggable,onClosed:n,"close-on-click-modal":!1},Ye({default:l(()=>[G(t.$slots,"default")]),_:2},[t.showFooter?{name:"footer",fn:l(()=>[G(t.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),vt=z({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(s,{emit:r}){const n=s,t=V(),o=N({label:"",value:"",type:"type"}),e=N([{label:"类型",prop:"type",type:"select",options:n.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),d=async()=>{var v,y;const{valid:p,data:i}=await((v=t.value)==null?void 0:v.submitForm());p&&((y=t.value)==null||y.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/addOption",i).then(({success:k,result:u})=>{var g;k?(F.success("添加成功"),m(),r("submit")):(F.error(u||"添加失败"),(g=t.value)==null||g.setLoading(!1))}).catch(()=>{var k;F.error("添加失败"),(k=t.value)==null||k.setLoading(!1)}))},m=()=>{var p;(p=t.value)==null||p.resetFields(),r("update:modelValue",!1)};return(p,i)=>{const v=te,y=bt;return a(),b(y,{title:"新增","model-value":s.modelValue,width:"400px",onClose:m},{default:l(()=>[f(v,{"label-width":"90px",ref_key:"ruleFormRef",ref:t,formData:o,formItem:e,onSubmit:d,onClose:m},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),gt=z({__name:"singleList",setup(s){const r=V([]),n=V(),t=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:y=>i(y)}]}],o=V(!1),e=V(),d=N({type:"",label:""}),m=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],p=N([{label:"类型",prop:"type",type:"select",options:m},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),i=y=>{ae.alert(`确定删除${y.label}`,"删除",{confirmButtonText:"OK",callback:k=>{k==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:y._id}).then(({success:u})=>{u?(F.success("删除成功"),v()):F.error("删除失败")})}})},v=async()=>{var k,u,g;const{data:y}=await((k=e.value)==null?void 0:k.submitForm());r.value=[],(u=n.value)==null||u.setLoading(!0),(g=e.value)==null||g.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:y}).then(L=>{var x,_;r.value=L.result,(x=n.value)==null||x.setLoading(!1),(_=e.value)==null||_.setLoading(!1)}).catch(()=>{var L,x;(L=n.value)==null||L.setLoading(!1),(x=e.value)==null||x.setLoading(!1)})};return we(()=>{v()}),(y,k)=>{const u=K,g=te,L=Te,x=ie;return a(),b(x,null,{header:l(()=>[f(g,{inline:"",ref_key:"searchFormRef",ref:e,formData:d,formItem:p,onSubmit:v},{default:l(()=>[f(u,{type:"primary",onClick:k[0]||(k[0]=_=>o.value=!0)},{default:l(()=>[C("新增")]),_:1})]),_:1},8,["formData","formItem"])]),default:l(()=>[f(L,{data:r.value,ref_key:"tableRef",ref:n,header:t},null,8,["data"]),f(vt,{onSubmit:v,modelValue:o.value,"onUpdate:modelValue":k[1]||(k[1]=_=>o.value=_),typeOptions:m},null,8,["modelValue"])]),_:1})}}}),ht=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"})),yt=z({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(s,{emit:r}){const n=s,t=V(1),o=V(n.defaultPageSize),e=m=>{t.value=1,r("size-change",m)},d=m=>r("current-change",m);return(m,p)=>{const i=qe;return a(),b(i,{class:"pagination","current-page":t.value,"onUpdate:currentPage":p[0]||(p[0]=v=>t.value=v),"page-size":o.value,"onUpdate:pageSize":p[1]||(p[1]=v=>o.value=v),background:n.background,small:n.small,layout:n.layout,total:n.total,"page-sizes":n.pageSizes,"default-page-size":n.defaultPageSize,onSizeChange:e,onCurrentChange:d},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const kt=J(yt,[["__scopeId","data-v-b2e93b00"]]),Ce=et("reloadTabs",()=>{const s=V([]);function r(o){s.value.includes(o)||s.value.push(o)}function n(o){s.value=s.value.filter(e=>e!==o)}function t(o,e){s.value.includes(o)&&(n(o),e&&e())}return{reloadList:s,addReloadTab:r,removeReloadTab:n,checkReload:t}}),Ie=async()=>{let s={};const r=sessionStorage.getItem("options");if(r)Object.assign(s,JSON.parse(r));else{const{result:n}=await U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});n.forEach(t=>{s[t.type]||(s[t.type]=[]),s[t.type].push(t)}),sessionStorage.setItem("options",JSON.stringify(s))}return s},wt=z({__name:"pageList",setup(s){const r=Ce(),n=Y(),t=N({page:1,total:0,size:20}),o=V({}),e=V([]),d=V([]),m=V(),p=V(),i=N({type:"",name:""}),v=Se(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:o.value.region},{label:"活动分类",prop:"type",type:"select",options:o.value.type},{prop:"searchBtn"}]),y=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:h=>x(h)},{name:"编辑",onClick:h=>_(h)},{name:"复制",onClick:h=>S(h)},{name:"删除",onClick:h=>I(h)}]}],k=h=>{t.size=h,t.page=1,g()},u=h=>{t.page=h,g()},g=async()=>{var $,D,W;const{data:h}=await(($=p.value)==null?void 0:$.submitForm());(D=m.value)==null||D.setLoading(!0),(W=p.value)==null||W.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:t.size,page:t.page,search:h}).then(P=>{var j,Z;e.value=P.result||[],t.total=P.total||0,(j=m.value)==null||j.setLoading(!1),(Z=p.value)==null||Z.setLoading(!1)}).catch(()=>{var P,j;e.value=[],t.total=0,(P=m.value)==null||P.setLoading(!1),(j=p.value)==null||j.setLoading(!1)})},L=()=>{n.push("/addForm")},x=h=>{n.push(`/detailInfo/${h._id}`)},_=h=>{n.push(`/editForm/${h._id}`)},S=h=>{n.push(`/copyForm/${h._id}`)},I=h=>{ae.alert(`确定删除${h.name}`,"删除",{confirmButtonText:"OK",callback:$=>{$==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:h._id}).then(({success:D})=>{D?(F.success("删除成功"),g()):F.error("删除失败")})}})},A=h=>{d.value=h},q=()=>{ae.alert(`确定删除${d.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:h=>{h==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:d.value.map($=>$._id)}).then(({success:$})=>{$?(F.success("删除成功"),g()):F.error("删除失败")})}})};return xe(async()=>{o.value=await Ie(),g()}),tt(()=>{r.checkReload("pageList",()=>{g()})}),(h,$)=>{const D=K,W=te,P=Ne,j=me,Z=Te,c=kt,w=ie;return a(),b(w,null,{header:l(()=>[f(W,{inline:"",ref_key:"searchFormRef",ref:p,formData:i,formItem:v.value,onSubmit:g},{default:l(()=>[f(D,{type:"primary",onClick:L},{default:l(()=>[C("新增")]),_:1}),f(D,{type:"primary",disabled:!d.value.length,onClick:q},{default:l(()=>[C("批量删除")]),_:1},8,["disabled"])]),_:1},8,["formData","formItem"])]),footer:l(()=>[f(c,{ref:"pageModel",total:t.total,"default-page-size":20,onSizeChange:k,onCurrentChange:u},null,8,["total"])]),default:l(()=>[f(Z,{onSelectionChange:A,selection:"",data:e.value,ref_key:"tableRef",ref:m,header:y},{region:l(({row:oe})=>[C(O(oe.region.join()),1)]),type:l(({row:oe})=>[f(j,{wrap:""},{default:l(()=>[(a(!0),T(E,null,B(oe.type,de=>(a(),b(P,{key:de},{default:l(()=>[C(O(de),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),St=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"})),xt=z({__name:"detailInfo",setup(s){const r=Ve("removeTab"),t=Le().params.id,o=V({}),e=V(!0);return we(()=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:t}).then(d=>{o.value=d.result,e.value=!1}).catch(()=>{e.value=!1})}),(d,m)=>{const p=K,i=ge,v=ve,y=ne;return X((a(),b(v,{column:1,border:""},{extra:l(()=>[f(p,{onClick:m[0]||(m[0]=k=>ee(r)(d.$route.path))},{default:l(()=>[C("关闭")]),_:1})]),default:l(()=>[(a(!0),T(E,null,B(Object.keys(o.value),k=>(a(),b(i,{key:k,label:k},{default:l(()=>[C(O(o.value[k]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[y,e.value]])}}}),Vt=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),Lt=z({__name:"formPage",setup(s){const r=Ve("removeTab"),n=Ce(),t=Le(),o=t.params.id,e=t.params.copyId,d=V(!0),m=V(),p=N({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),i=V({}),v=Se(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:i.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],type:"datetimerange",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:i.value.type},{label:"资源类型",prop:"resource",type:"radio",options:i.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),y=async()=>{var _;const{valid:L,data:x}=await((_=m.value)==null?void 0:_.submitForm());L&&(o?U("https://5ykenqzacs.hk.aircode.run/editItem",{data:x,id:o,type:"demoList"}).then(({success:S})=>{S?(F.success("修改成功"),k()):F.error("修改失败")}):U("https://5ykenqzacs.hk.aircode.run/addItem",{data:x,type:"demoList"}).then(({success:S})=>{S?(F.success("提交成功"),k()):F.error("提交失败")}))},k=()=>{n.addReloadTab("pageList"),r(t.path)},u=(L,x)=>{var _;(_=m.value)==null||_.changeValue(L,x)},g=L=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:L}).then(({success:x,result:_})=>{x&&_&&Object.keys(_).forEach(S=>{["_id","updatedAt","createdAt"].includes(S)||(p[S]=_[S])})})};return xe(async()=>{i.value=await Ie(),(o||e)&&await g(o||e),d.value=!1}),(L,x)=>{const _=K,S=se,I=te,A=he,q=ne;return a(),b(A,null,{default:l(()=>[X((a(),b(I,{ref_key:"ruleFormRef",ref:m,formData:p,formItem:v.value,"label-width":"120px",onSubmit:y,onClose:x[2]||(x[2]=h=>ee(r)(L.$route.path))},{name:l(()=>[f(_,{type:"primary",onClick:x[0]||(x[0]=h=>u("name","test"))},{default:l(()=>[C("修改活动名称")]),_:1})]),test:l(()=>[f(S,{modelValue:p.test,"onUpdate:modelValue":x[1]||(x[1]=h=>p.test=h)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[q,d.value]])]),_:1})}}}),le=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),Tt=z({__name:"loginPage",setup(s){const r=Y(),n=V({username:"",password:""}),t=V(!1),o=()=>{t.value=!0,setTimeout(()=>{t.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",n.value.username),r.push("/home")},1e3)};return(e,d)=>{const m=se,p=fe,i=K,v=be,y=Je,k=ie;return a(),b(k,null,{default:l(()=>[f(y,{class:"box-card",header:"演示后台"},{default:l(()=>[f(v,{"label-width":"80px",model:n.value},{default:l(()=>[f(p,{label:"帐号"},{default:l(()=>[f(m,{modelValue:n.value.username,"onUpdate:modelValue":d[0]||(d[0]=u=>n.value.username=u),maxLength:"10"},null,8,["modelValue"])]),_:1}),f(p,{label:"密码"},{default:l(()=>[f(m,{modelValue:n.value.password,"onUpdate:modelValue":d[1]||(d[1]=u=>n.value.password=u),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),f(p,null,{default:l(()=>[f(i,{type:"primary",loading:t.value,disabled:!n.value.username||!n.value.password,onClick:o},{default:l(()=>[C("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}});const Ct=J(Tt,[["__scopeId","data-v-bc8f8971"]]),oo=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),It=["onContextmenu"],$t=z({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},setup(s,{expose:r}){const n=s,t=Y(),o=V([n.homeTab]),e=V(o.value[0].path),d=_=>{o.value.find(I=>I.path===_.path)||o.value.push(_),e.value=_.path},m=_=>{const S=o.value;if(e.value===_){const I=S.findIndex(q=>q.path===_),A=S[I+1]||S[I-1]||S[0];e.value=A.path}o.value=o.value.filter(I=>I.path!==_)},p=V(!1),i=V(""),v=V(),y={mounted(_,S){_.handler=function(I){_.contains(I.target)||S.value(I)},document.addEventListener("click",_.handler,!0)},unmounted(_){document.removeEventListener("click",_.handler)}},k=(_,S)=>{_.preventDefault(),v.value=_.currentTarget,p.value=!0,i.value=S},u=()=>{L(),o.value=o.value.filter(_=>_.closable===!1),e.value=o.value[0].path},g=()=>{L(),o.value=o.value.filter(_=>i.value===_.path||_.closable===!1),e.value=i.value},L=()=>{p.value=!1},x=_=>{let S=o.value.find(I=>I.path===_);S&&t.currentRoute.value.path!==S.path&&t.push(S.path)};return r({addTab:d,removeTab:m}),ot(()=>t.currentRoute.value.path,_=>{const{title:S,closable:I=!0}=t.currentRoute.value.meta;d({title:S,closable:I,path:_})}),(_,S)=>{const I=Ge,A=ye,q=He,h=Ke;return a(),b(h,{modelValue:e.value,"onUpdate:modelValue":S[0]||(S[0]=$=>e.value=$),type:"card",class:"tabMenu",onTabRemove:m,onTabChange:x},{default:l(()=>[(a(!0),T(E,null,B(o.value,$=>(a(),b(I,{key:$.path,name:$.path,label:$.title,closable:$.closable!==!1},{label:l(()=>[X((a(),T("div",{onContextmenu:D=>k(D,$.path)},[C(O($.title),1)],40,It)),[[y,L]])]),_:2},1032,["name","label","closable"]))),128)),f(q,{ref:"tooltipRef","virtual-ref":v.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:p.value},{default:l(()=>[R("ul",null,[R("li",null,[f(A,{underline:!1,onClick:g},{default:l(()=>[C("关闭其他")]),_:1})]),R("li",null,[f(A,{underline:!1,onClick:u},{default:l(()=>[C("关闭所有")]),_:1})])])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const Et=J($t,[["__scopeId","data-v-303e67ff"]]),zt=z({__name:"subMenu",props:["i"],emits:["addTab"],setup(s,{emit:r}){return(n,t)=>{const o=re,e=ke,d=ue("subMenu",!0),m=We;return a(),b(m,{index:s.i.title+s.i.path},{title:l(()=>[s.i.icon?(a(),b(o,{key:0},{default:l(()=>[(a(),b(ce(s.i.icon)))]),_:1})):M("",!0),R("span",null,O(s.i.title),1)]),default:l(()=>[(a(!0),T(E,null,B(s.i.children,p=>(a(),T(E,{key:p.path},[!p.children||!p.children.length?(a(),b(e,{key:0,onClick:i=>r("addTab",p),index:p.path},{default:l(()=>[C(O(p.title),1)]),_:2},1032,["onClick","index"])):(a(),b(d,{key:1,i:p,onAddTab:t[0]||(t[0]=i=>r("addTab",i))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),Rt=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",children:[{title:"表单",path:"/addForm"},{title:"分页列表",path:"/pageList"}]}]}],Mt=z({__name:"sideBar",emits:["addTab"],setup(s,{emit:r}){return(n,t)=>{const o=re,e=ke,d=zt,m=he,p=Ze;return a(),b(p,{class:"side-bar"},{default:l(()=>[f(m,null,{default:l(()=>[(a(!0),T(E,null,B(ee(Rt),i=>(a(),T(E,{key:i.title},[!i.children||!i.children.length?(a(),b(e,{key:0,index:i.title+i.path,onClick:v=>r("addTab",i)},{default:l(()=>[i.icon?(a(),b(o,{key:0},{default:l(()=>[(a(),b(ce(i.icon)))]),_:2},1024)):M("",!0),R("span",null,O(i.title),1)]),_:2},1032,["index","onClick"])):(a(),b(d,{key:1,i,onAddTab:t[0]||(t[0]=v=>r("addTab",v))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const Ft=J(Mt,[["__scopeId","data-v-9c62f71b"]]),Ot=""+new URL("../logo.svg",import.meta.url).href,$e=s=>(lt("data-v-0c6f20b0"),s=s(),at(),s),Pt={class:"top-bar"},Bt=$e(()=>R("img",{src:Ot,class:"top-bar-icon",alt:""},null,-1)),Dt=$e(()=>R("span",{class:"top-bar-text"},"vue3+element-plus",-1)),Ut=z({__name:"topBar",setup(s){const r=Y(),n=sessionStorage.getItem("username"),t=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),r.push("/login")};return(o,e)=>{const d=Qe,m=ue("SwitchButton"),p=re,i=ye,v=Xe;return a(),T("div",Pt,[f(v,{gutter:20},{default:l(()=>[f(d,{span:12},{default:l(()=>[Bt,Dt]),_:1}),f(d,{span:4,offset:8,class:"top-bar-right"},{default:l(()=>[f(i,{underline:!1,onClick:t},{default:l(()=>[C(O(ee(n)),1),f(p,{class:"el-icon--right"},{default:l(()=>[f(m)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const At=J(Ut,[["__scopeId","data-v-0c6f20b0"]]),jt={class:"home-waper"},qt={class:"home-waper-top"},Nt={class:"home-waper-body"},Jt={class:"home-waper-content"},Gt={class:"home-waper-view"},Ht=z({__name:"waper",setup(s){const r=V();function n(o){var e;(e=r.value)==null||e.addTab(o)}function t(o){var e;(e=r.value)==null||e.removeTab(o)}return pe("addTab",n),pe("removeTab",t),(o,e)=>{const d=At,m=Ft,p=Et,i=ue("router-view");return a(),T("div",jt,[R("div",qt,[f(d)]),R("div",Nt,[f(m,{onAddTab:n}),R("div",Jt,[f(p,{ref_key:"tabMenuRef",ref:r},null,512),R("div",Gt,[f(i,null,{default:l(({Component:v,route:y})=>[(a(),b(nt,{max:3,include:/List/},[(a(),b(ce(v),{key:y.path}))],1024))]),_:1})])])])])}}});const Kt=J(Ht,[["__scopeId","data-v-76f1f9c8"]]),lo=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Wt=z({__name:"home",setup(s){const r=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(n,t)=>{const o=ge,e=ve;return a(),b(e,{title:"文件说明",column:1,border:""},{default:l(()=>[(a(),T(E,null,B(r,d=>f(o,{key:d.label,label:d.label},{default:l(()=>[C(O(d.content),1)]),_:2},1032,["label"])),64))]),_:1})}}}),ao=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),Zt={};function Qt(s,r){return a(),T("div",null," 404 ")}const Xt=J(Zt,[["render",Qt]]),no=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"}));export{Q as _,no as a,ao as h,oo as l,to as r,lo as w};
