import{E as Ue,a as Y,b as je,v as pe,c as _e,d as qe,e as Ne,f as Je,g as Ke,h as We,i as Ge,j as He,k as Qe,l as we,m as Te,n as xe,o as Le,p as Ye,q as D,r as de,s as Xe,t as Ze,u as Se,w as $e,x as Ie,y as et,z as Ve,A as Ce,B as tt,C as ot,D as me,F as Ee,G as at,H as lt,I as nt,J as st,K as rt}from"./element-f643597f.js";import{cH as ut,b7 as T,o as r,c as I,bT as P,bA as K,bz as E,bY as le,bN as g,bM as n,bS as M,bJ as f,bp as C,cc as R,bQ as V,bR as O,bF as W,bP as Q,cI as ne,bx as fe,ct,ba as se,cJ as re,br as Pe,bt as te,b4 as F,b1 as it,bD as dt,b8 as Me,bO as oe,cK as pt,cu as be,cL as _t,cM as mt,by as ae,cN as ft,bb as bt,b9 as vt,cO as ht}from"./chunks-758e958d.js";import{u as gt,e as yt,i as kt,a as wt,b as Tt,c as xt,d as Lt,f as St,g as $t,h as It,j as Vt,k as Ct,l as Et}from"./echarts-b270c533.js";import{m as ye,a as Pt}from"./docs-da167627.js";const Mt="modulepreload",Ot=function(l,o){return new URL(l,o).href},ke={},G=function(o,s,t){if(!s||s.length===0)return o();const u=document.getElementsByTagName("link");return Promise.all(s.map(e=>{if(e=Ot(e,t),e in ke)return;ke[e]=!0;const a=e.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(!!t)for(let _=u.length-1;_>=0;_--){const b=u[_];if(b.href===e&&(!a||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${d}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Mt,a||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),a)return new Promise((_,b)=>{c.addEventListener("load",_),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>o()).catch(e=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e})},Ko=[{path:"/singleList",name:"singleList",component:()=>G(()=>Promise.resolve().then(()=>Xt),void 0,import.meta.url),meta:{title:"简单列表",auth:"singleList"}},{path:"/pageList",name:"pageList",component:()=>G(()=>Promise.resolve().then(()=>oo),void 0,import.meta.url),meta:{title:"分页列表",auth:"pageList"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>G(()=>Promise.resolve().then(()=>lo),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>G(()=>Promise.resolve().then(()=>ie),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>G(()=>Promise.resolve().then(()=>ie),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>G(()=>Promise.resolve().then(()=>ie),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>G(()=>Promise.resolve().then(()=>io),void 0,import.meta.url),meta:{title:"echart",keepAlive:!1}},{path:"/docs",name:"docs",component:()=>G(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url),meta:{title:"docs"}}];async function U(l,o){return await fetch(l,{body:o&&JSON.stringify(o),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(s=>s.json()).catch(s=>{})}const H="https://5ykenqzacs.hk.aircode.run",j={getAllList:H+"/getAllList",getItem:H+"/getItem",addOption:H+"/addOption",removeItem:H+"/removeItem",removeItems:H+"/removeItems",getList:H+"/getList",addItem:H+"/addItem",editItem:H+"/editItem"},Oe=async()=>{let l={};const o=sessionStorage.getItem("options");if(o)Object.assign(l,JSON.parse(o));else{const{result:s}=await U(j.getAllList,{type:"options"});s.length&&(s.forEach(t=>{l[t.type]||(l[t.type]=[]),l[t.type].push(t)}),sessionStorage.setItem("options",JSON.stringify(l)))}return l},Wo=async l=>{const{result:[o]}=await U(j.getAllList,{type:"auth",search:{path:l}});return(o==null?void 0:o.auth)||""},Re=async l=>{const{result:o}=await U(j.getItem,l);return o},Rt=async l=>{const{result:o}=await U(j.addOption,l);return o},zt=async l=>{const{result:o}=await U(j.getAllList,l);return o},ze=async l=>{const{success:o}=await U(j.removeItem,l);return o},Dt=async l=>{const{success:o}=await U(j.removeItems,l);return o},Ft=async l=>await U(j.getList,l),At=async l=>{const{success:o}=await U(j.addItem,l);return o},Bt=async l=>{const{success:o}=await U(j.editItem,l);return o},ve=ut("auth",()=>{const l=T({});function o(u,e){l.value[u]=e}function s(u){delete l.value[u]}function t(u,e){var a;return!!(u&&((a=l.value[u])!=null&&a.includes(e)))}return{authModel:l,setAuth:o,removeAuth:s,checkAuth:t}});const q=(l,o)=>{const s=l.__vccOpts||l;for(const[t,u]of o)s[t]=u;return s},Ut={},jt={class:"flex"},qt={class:"flex-header"},Nt={class:"flex-content"},Jt={class:"flex-footer"};function Kt(l,o){return r(),I("div",jt,[P("div",qt,[K(l.$slots,"header",{},void 0,!0)]),P("div",Nt,[K(l.$slots,"default",{},void 0,!0)]),P("div",Jt,[K(l.$slots,"footer",{},void 0,!0)])])}const he=q(Ut,[["render",Kt],["__scopeId","data-v-7b6cd6f1"]]),Wt=["textContent"],De=E({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(l,{expose:o,emit:s}){const t=T(!1),u=T();function e(d){t.value=d}function a(d){s("selection-change",d)}return o({setLoading:e}),(d,p)=>{const c=Ue,_=Y,b=je,x=pe;return le((r(),g(b,{onSelectionChange:a,ref_key:"tableModelRef",ref:u,data:l.data,height:"100%",border:""},{default:n(()=>[l.selection?(r(),g(c,{key:0,type:"selection",width:"55"})):M("",!0),f(c,{type:"index",width:"50"}),(r(!0),I(C,null,R(l.header,i=>(r(),g(c,{key:i.prop,prop:i.prop,width:i.width,label:i.label,fixed:i.fixed,sortable:i.sortable},{default:n(({row:h})=>[K(d.$slots,i.prop,{row:h},()=>{var S;return[i.prop==="action"?(r(!0),I(C,{key:0},R((S=i.options)==null?void 0:S.filter(k=>k.auth!==!1),k=>(r(),g(_,{key:k.name,link:"",type:"primary",onClick:v=>k.onClick(h)},{default:n(()=>[V(O(k.name),1)]),_:2},1032,["onClick"]))),128)):(r(),I("div",{key:1,textContent:O(h[i.prop])},null,8,Wt))]})]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[x,t.value]])}}}),Gt=E({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(l,{expose:o,emit:s}){const t=l,u=T(),e=W(t.formData),a=T(!1),d=async()=>{var h;let i=W({valid:!1,data:e,fields:null});return await((h=u.value)==null?void 0:h.validate((S,k)=>{S?i.valid=!0:(console.log("error submit!",k),i.fields=k)})),i},p=()=>{c(),s("submit")},c=()=>{var i;x(!1),(i=u.value)==null||i.resetFields()},_=i=>{var h;(h=u.value)==null||h.validateField(i)},b=(i,h)=>{e[i]=h},x=i=>{a.value=i};return o({submitForm:d,resetFields:c,validateField:_,changeValue:b,setLoading:x}),(i,h)=>{const S=_e,k=qe,v=Ne,w=Je,$=Ke,z=We,N=Ge,y=He,A=Qe,B=we,X=Te,J=Y,Z=xe,ee=Le;return r(),g(ee,{class:"formModel",size:i.size,inline:i.inline,ref_key:"ruleFormRef",ref:u,model:e,"label-width":i.labelWidth},{default:n(()=>[(r(!0),I(C,null,R(i.formItem,m=>(r(),g(Z,{key:m.prop,label:m.label,prop:m.prop,rules:m.rules},{default:n(()=>[f(X,{wrap:""},{default:n(()=>[m.type==="input"?(r(),g(S,{key:0,style:Q(m.style||i.itemStyle),maxlength:m.maxlength,"show-word-limit":"",modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):M("",!0),m.type==="input-number"?(r(),g(k,{key:1,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L,min:m.min,max:m.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):M("",!0),m.type==="select"?(r(),g(w,{key:2,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L,placeholder:"请选择",clearable:"",filterable:"",multiple:m.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:n(()=>[(r(!0),I(C,null,R(m.options,L=>(r(),g(v,{label:L.label,value:L.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):M("",!0),m.type==="date"?(r(),g($,{key:3,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L,type:m.dateType,format:m.format,"value-format":m.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):M("",!0),m.type==="switch"?(r(),g(z,{key:4,modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),m.type==="checkbox"?(r(),g(y,{key:5,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L},{default:n(()=>[(r(!0),I(C,null,R(m.options,L=>(r(),g(N,{key:L.label,label:L.label,name:m.prop},{default:n(()=>[V(O(L.name||L.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),m.type==="radio"?(r(),g(B,{key:6,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L},{default:n(()=>[(r(!0),I(C,null,R(m.options,L=>(r(),g(A,{key:L.label,label:L.label},{default:n(()=>[V(O(L.name||L.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),m.type==="textarea"?(r(),g(S,{key:7,style:Q(m.style||i.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":L=>e[m.prop]=L,type:"textarea",rows:m.row,maxlength:m.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):M("",!0),K(i.$slots,m.prop,{item:m},void 0,!0)]),_:2},1024),m.prop==="searchBtn"?(r(),I(C,{key:0},[f(J,{type:"primary",onClick:h[0]||(h[0]=L=>s("submit")),disabled:a.value},{default:n(()=>[V("查询")]),_:1},8,["disabled"]),f(J,{disabled:a.value,onClick:p},{default:n(()=>[V("重置")]),_:1},8,["disabled"])],64)):M("",!0),m.prop==="submitBtn"?(r(),I(C,{key:1},[f(J,{type:"primary",onClick:h[1]||(h[1]=L=>s("submit")),disabled:a.value},{default:n(()=>[V("提交")]),_:1},8,["disabled"]),f(J,{disabled:a.value,onClick:h[2]||(h[2]=L=>s("close"))},{default:n(()=>[V("关闭")]),_:1},8,["disabled"])],64)):M("",!0)]),_:2},1032,["label","prop","rules"]))),128)),f(Z,null,{default:n(()=>[K(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const ue=q(Gt,[["__scopeId","data-v-2fefee11"]]),Fe=E({__name:"auth",props:{type:{}},setup(l){const o=l,s=ne(),{checkAuth:t}=ve(),u=T(!1);return fe(()=>{var a;const e=((a=s.meta)==null?void 0:a.auth)||"";u.value=!!e&&t(e,o.type)}),(e,a)=>u.value?K(e.$slots,"default",{key:0}):M("",!0)}}),Ht=E({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(l,{emit:o}){const s=()=>{o("update:modelValue",!1),o("close")};return(t,u)=>{const e=Ye;return r(),g(e,{"model-value":t.modelValue,title:t.title,width:t.width,draggable:t.draggable,onClosed:s,"close-on-click-modal":!1},ct({default:n(()=>[K(t.$slots,"default")]),_:2},[t.showFooter?{name:"footer",fn:n(()=>[K(t.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),Qt=E({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(l,{emit:o}){const s=l,t=T(),u=W({label:"",value:"",type:"type"}),e=W([{label:"类型",prop:"type",type:"select",options:s.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),a=async()=>{var _,b,x;const{valid:p,data:c}=await((_=t.value)==null?void 0:_.submitForm());if(p){(b=t.value)==null||b.setLoading(!0);const i=await Rt(c);i!=null&&i._id?(D.success("添加成功"),d(),o("submit")):(D.error(i||"添加失败"),(x=t.value)==null||x.setLoading(!1))}},d=()=>{var p;(p=t.value)==null||p.resetFields(),o("update:modelValue",!1)};return(p,c)=>{const _=ue,b=Ht;return r(),g(b,{title:"新增","model-value":l.modelValue,width:"400px",onClose:d},{default:n(()=>[f(_,{"label-width":"90px",ref_key:"ruleFormRef",ref:t,formData:u,formItem:e,onSubmit:a,onClose:d},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),Yt=E({__name:"singleList",setup(l){const{checkAuth:o}=ve(),s=T([]),t=T(),u=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:x=>_(x),auth:o("singleList","del")}]}],e=T(!1),a=T(),d=W({type:"",label:""}),p=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],c=W([{label:"类型",prop:"type",type:"select",options:p},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),_=x=>{de.alert(`确定删除${x.label}`,"删除",{confirmButtonText:"OK",callback:async i=>{i==="confirm"&&(await ze({type:"options",id:x._id})?(D.success("删除成功"),b()):D.error("删除失败"))}})},b=async()=>{var h,S,k,v,w,$,z;const{data:x}=await((h=a.value)==null?void 0:h.submitForm());s.value=[],(S=t.value)==null||S.setLoading(!0),(k=a.value)==null||k.setLoading(!0);const i=await zt({type:"options",search:x});i.length?(s.value=i,(v=t.value)==null||v.setLoading(!1),(w=a.value)==null||w.setLoading(!1)):(($=t.value)==null||$.setLoading(!1),(z=a.value)==null||z.setLoading(!1))};return se(()=>{b()}),(x,i)=>{const h=Y,S=Fe,k=ue,v=De,w=he;return r(),g(w,null,{header:n(()=>[f(k,{inline:"",ref_key:"searchFormRef",ref:a,formData:d,formItem:c,onSubmit:b},{default:n(()=>[f(S,{type:"add"},{default:n(()=>[f(h,{type:"primary",onClick:i[0]||(i[0]=$=>e.value=!0)},{default:n(()=>[V("新增")]),_:1})]),_:1})]),_:1},8,["formData","formItem"])]),default:n(()=>[f(v,{data:s.value,ref_key:"tableRef",ref:t,header:u},null,8,["data"]),f(Qt,{onSubmit:b,modelValue:e.value,"onUpdate:modelValue":i[1]||(i[1]=$=>e.value=$),typeOptions:p},null,8,["modelValue"])]),_:1})}}}),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),Zt=E({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(l,{emit:o}){const s=l,t=T(1),u=T(s.defaultPageSize),e=d=>{t.value=1,o("size-change",d)},a=d=>o("current-change",d);return(d,p)=>{const c=Xe;return r(),g(c,{class:"pagination","current-page":t.value,"onUpdate:currentPage":p[0]||(p[0]=_=>t.value=_),"page-size":u.value,"onUpdate:pageSize":p[1]||(p[1]=_=>u.value=_),background:s.background,small:s.small,layout:s.layout,total:s.total,"page-sizes":s.pageSizes,"default-page-size":s.defaultPageSize,onSizeChange:e,onCurrentChange:a},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const eo=q(Zt,[["__scopeId","data-v-b2e93b00"]]),to=E({__name:"pageList",setup(l){const{checkAuth:o}=ve(),s=re(),t=W({page:1,total:0,size:20}),u=T({}),e=T([]),a=T([]),d=T(),p=T(),c=W({type:"",name:""}),_=Pe(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:u.value.region},{label:"活动分类",prop:"type",type:"select",options:u.value.type},{prop:"searchBtn"}]),b=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:y=>k(y),auth:o("pageList","view")},{name:"编辑",onClick:y=>v(y),auth:o("pageList","edit")},{name:"复制",onClick:y=>w(y),auth:o("pageList","copy")},{name:"删除",onClick:y=>$(y),auth:o("pageList","del")}]}],x=y=>{t.size=y,t.page=1,h()},i=y=>{t.page=y,h()},h=async()=>{var B,X,J,Z,ee,m,L;const{data:y}=await((B=p.value)==null?void 0:B.submitForm());(X=d.value)==null||X.setLoading(!0),(J=p.value)==null||J.setLoading(!0);const A=await Ft({type:"demoList",size:t.size,page:t.page,search:y});A.success?(e.value=A.result||[],t.total=A.total||0,(Z=d.value)==null||Z.setLoading(!1),(ee=p.value)==null||ee.setLoading(!1)):(e.value=[],t.total=0,(m=d.value)==null||m.setLoading(!1),(L=p.value)==null||L.setLoading(!1))},S=()=>{s.push("/addForm")},k=y=>{s.push(`/detailInfo/${y._id}`)},v=y=>{s.push(`/editForm/${y._id}`)},w=y=>{s.push(`/copyForm/${y._id}`)},$=y=>{de.alert(`确定删除${y.name}`,"删除",{confirmButtonText:"OK",callback:async A=>{A==="confirm"&&(await ze({type:"demoList",id:y._id})?(D.success("删除成功"),h()):D.error("删除失败"))}})},z=y=>{a.value=y},N=()=>{de.alert(`确定删除${a.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:async y=>{y==="confirm"&&(await Dt({type:"demoList",ids:a.value.map(B=>B._id)})?(D.success("删除成功"),h()):D.error("删除失败"))}})};return fe(async()=>{u.value=await Oe(),h()}),(y,A)=>{const B=Y,X=Fe,J=ue,Z=Ze,ee=Te,m=De,L=eo,Be=he;return r(),g(Be,null,{header:n(()=>[f(J,{inline:"",ref_key:"searchFormRef",ref:p,formData:c,formItem:_.value,onSubmit:h},{default:n(()=>[f(X,{type:"add"},{default:n(()=>[f(B,{type:"primary",onClick:S},{default:n(()=>[V("新增")]),_:1})]),_:1}),f(X,{type:"del"},{default:n(()=>[f(B,{type:"primary",disabled:!a.value.length,onClick:N},{default:n(()=>[V("批量删除")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["formData","formItem"])]),footer:n(()=>[f(L,{ref:"pageModel",total:t.total,"default-page-size":20,onSizeChange:x,onCurrentChange:i},null,8,["total"])]),default:n(()=>[f(m,{onSelectionChange:z,selection:"",data:e.value,ref_key:"tableRef",ref:d,header:b},{region:n(({row:ce})=>[V(O(ce.region.join()),1)]),type:n(({row:ce})=>[f(ee,{wrap:""},{default:n(()=>[(r(!0),I(C,null,R(ce.type,ge=>(r(),g(Z,{key:ge},{default:n(()=>[V(O(ge),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),oo=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),ao=E({__name:"detailInfo",setup(l){const o=te("replaceTab"),s=te("removeTab"),t=te("reloadTab"),u=ne(),e=T({}),a=T(!0),d=()=>{o({title:"分页列表",path:"/pageList",closable:!0})};return se(async()=>{const p=await Re({type:"demoList",id:u.params.id});e.value=p,a.value=!1}),(p,c)=>{const _=Y,b=$e,x=Se,i=pe;return le((r(),g(x,{column:1,border:""},{extra:n(()=>[f(_,{onClick:d},{default:n(()=>[V("返回列表")]),_:1}),f(_,{onClick:c[0]||(c[0]=h=>F(s)(p.$route.path))},{default:n(()=>[V("关闭")]),_:1}),f(_,{onClick:c[1]||(c[1]=h=>F(t)(p.$route.path))},{default:n(()=>[V("刷新页签")]),_:1})]),default:n(()=>[(r(!0),I(C,null,R(Object.keys(e.value),h=>(r(),g(b,{key:h,label:h},{default:n(()=>[V(O(e.value[h]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[i,a.value]])}}}),lo=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),no=E({__name:"formPage",setup(l){const o=te("removeTab"),s=te("reloadTab"),t=ne(),u=t.params.id,e=t.params.copyId,a=T(!0),d=T(),p=W({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),c=T({}),_=Pe(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:c.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],dateType:"datetimerange",type:"date",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:c.value.type},{label:"资源类型",prop:"resource",type:"radio",options:c.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),b=async()=>{var v;const{valid:S,data:k}=await((v=d.value)==null?void 0:v.submitForm());S&&(u?await Bt({data:k,id:u,type:"demoList"})?(D.success("修改成功"),x()):D.error("修改失败"):await At({data:k,type:"demoList"})?(D.success("提交成功"),x()):D.error("提交失败"))},x=()=>{s("/pageList"),o(t.path)},i=(S,k)=>{var v;(v=d.value)==null||v.changeValue(S,k)},h=async S=>{const k=await Re({type:"demoList",id:S});k!=null&&k._id&&Object.keys(k).forEach(v=>{["_id","updatedAt","createdAt"].includes(v)||(p[v]=k[v])})};return fe(async()=>{c.value=await Oe(),(u||e)&&await h(u||e),a.value=!1}),(S,k)=>{const v=Y,w=_e,$=ue,z=Ie,N=pe;return r(),g(z,null,{default:n(()=>[le((r(),g($,{ref_key:"ruleFormRef",ref:d,formData:p,formItem:_.value,"label-width":"120px",onSubmit:b,onClose:k[2]||(k[2]=y=>F(o)(S.$route.path))},{name:n(()=>[f(v,{type:"primary",onClick:k[0]||(k[0]=y=>i("name","test"))},{default:n(()=>[V("修改活动名称")]),_:1})]),test:n(()=>[f(w,{modelValue:p.test,"onUpdate:modelValue":k[1]||(k[1]=y=>p.test=y)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[N,a.value]])]),_:1})}}}),ie=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"}));gt([kt,wt,Tt,xt,Lt,St,$t,It,Vt,Ct,Et]);const so={echarts:yt},ro=E({__name:"echartModel",props:{options:{}},setup(l,{expose:o}){const s=l,t=T(null),u=it(),e=a=>{var d;(d=u.value)==null||d.resize(a)};return se(()=>{var a;u.value=so.echarts.init(t.value),(a=u.value)==null||a.setOption(s.options),window.addEventListener("resize",e)}),dt(()=>{window.removeEventListener("resize",e)}),Me(()=>s.options,a=>{var d;(d=u.value)==null||d.setOption(a)},{deep:!0}),o({resize:e}),(a,d)=>(r(),I("div",{class:"chartDomStyle",ref_key:"chartDom",ref:t},null,512))}});const uo=q(ro,[["__scopeId","data-v-32818e74"]]),co=E({__name:"echartPage",setup(l){const o=d=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:d}]}),s=T("300px"),t=T(),u=T("bar");function e(d){var p;(p=t.value)==null||p.resize({height:d})}function a(d){u.value=d}return(d,p)=>{const c=et,_=we,b=uo;return r(),I(C,null,[f(_,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=x=>s.value=x),onChange:e},{default:n(()=>[f(c,{label:"300px"}),f(c,{label:"500px"})]),_:1},8,["modelValue"]),f(_,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=x=>u.value=x),onChange:a},{default:n(()=>[f(c,{label:"bar"}),f(c,{label:"line"})]),_:1},8,["modelValue"]),P("div",{class:"chartDom",style:Q({height:s.value})},[f(b,{ref_key:"chartDom",ref:t,options:o(u.value)},null,8,["options"])],4)],64)}}});const io=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),po=E({__name:"md",setup(l){const o=T(ye[0]);return(s,t)=>{const u=Ce,e=Ve;return r(),I(C,null,[f(e,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a)},{default:n(()=>[(r(!0),I(C,null,R(F(ye),a=>(r(),g(u,{name:a,key:a,label:a},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),(r(),g(oe(F(Pt)[o.value])))],64)}}}),_o=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),mo={class:"version"},fo=E({__name:"loginPage",setup(l){var c,_;const o=re(),s=T(),t=T({username:"",password:""}),u=te("log"),e=(c=document.querySelector('meta[name="version"]'))==null?void 0:c.getAttribute("content"),a=(_=document.querySelector('meta[name="buildTime"]'))==null?void 0:_.getAttribute("content"),d=T(!1),p=()=>{d.value=!0,setTimeout(()=>{d.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",t.value.username),o.push("/home")},1e3)};return se(()=>{var b;u("version",e),u("buildTime",a),(b=s.value)==null||b.input.focus()}),(b,x)=>{const i=_e,h=xe,S=Y,k=Le,v=tt,w=he;return r(),g(w,null,{footer:n(()=>[P("div",mo,"vue3-web-demo "+O(F(e))+" "+O(F(a)),1)]),default:n(()=>[f(v,{class:"box-card",header:b.$translate("home.title")},{default:n(()=>[f(k,{"label-width":"80px",model:t.value},{default:n(()=>[f(h,{label:"帐号"},{default:n(()=>[f(i,{ref_key:"input",ref:s,modelValue:t.value.username,"onUpdate:modelValue":x[0]||(x[0]=$=>t.value.username=$),maxLength:"10"},null,8,["modelValue"])]),_:1}),f(h,{label:"密码"},{default:n(()=>[f(i,{modelValue:t.value.password,"onUpdate:modelValue":x[1]||(x[1]=$=>t.value.password=$),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),f(h,null,{default:n(()=>[f(S,{type:"primary",loading:d.value,disabled:!t.value.username||!t.value.password,onClick:p},{default:n(()=>[V("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["header"])]),_:1})}}});const bo=q(fo,[["__scopeId","data-v-25e5e112"]]),Go=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),vo=["onContextmenu"],ho=E({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},emits:["reloadTab","delCache"],setup(l,{expose:o,emit:s}){const t=l,u=re(),e=T([t.homeTab]),a=T(e.value[0].path),d=v=>{e.value.find($=>$.path===v.path)||e.value.push(v),a.value=v.path},p=v=>{const w=e.value;if(a.value===v){const $=w.findIndex(N=>N.path===v),z=w[$+1]||w[$-1]||w[0];a.value=z.path}s("delCache",v),e.value=e.value.filter($=>$.path!==v)},c=T(!1),_=T(""),b=T(),x=(v,w)=>{v.preventDefault(),b.value=v.currentTarget,c.value=!0,_.value=w},i=()=>{S();let v=[];e.value.filter(w=>{w.closable!==!1?s("delCache",w.path):v.push(w)}),e.value=v,a.value=e.value[0].path},h=()=>{S();let v=[];e.value.filter(w=>{_.value!==w.path&&w.closable!==!1?s("delCache",w.path):v.push(w)}),e.value=v,a.value=_.value},S=()=>{c.value=!1},k=v=>{let w=e.value.find($=>$.path===v);w&&u.currentRoute.value.path!==w.path&&u.push(w.path)};return o({addTab:d,removeTab:p}),Me(()=>u.currentRoute.value.path,v=>{const{title:w,closable:$=!0}=u.currentRoute.value.meta;d({title:w,closable:$,path:v})}),(v,w)=>{const $=Ce,z=ot,N=Ve;return r(),g(N,{modelValue:a.value,"onUpdate:modelValue":w[1]||(w[1]=y=>a.value=y),type:"card",class:"tabMenu",onTabRemove:p,onTabChange:k},{default:n(()=>[(r(!0),I(C,null,R(e.value,y=>(r(),g($,{key:y.path,name:y.path,label:y.title,closable:y.closable!==!1},{label:n(()=>[le((r(),I("div",{class:"tabMenu_tab",onContextmenu:A=>x(A,y.path)},[V(O(y.title),1)],40,vo)),[[F(pt),S]])]),_:2},1032,["name","label","closable"]))),128)),f(z,{ref:"tooltipRef","virtual-ref":b.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:c.value},{default:n(()=>[P("ul",null,[P("li",{onClick:w[0]||(w[0]=y=>s("reloadTab",_.value))},"刷新页面"),P("li",{onClick:h},"关闭其他"),P("li",{onClick:i},"关闭所有")])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const go=q(ho,[["__scopeId","data-v-a4a82c8d"]]),yo=E({__name:"subMenu",props:["i"],emits:["addTab"],setup(l,{emit:o}){return(s,t)=>{const u=me,e=Ee,a=be("subMenu",!0),d=at;return r(),g(d,{index:l.i.title+l.i.path},{title:n(()=>[l.i.icon?(r(),g(u,{key:0},{default:n(()=>[(r(),g(oe(l.i.icon)))]),_:1})):M("",!0),P("span",null,O(l.i.title),1)]),default:n(()=>[(r(!0),I(C,null,R(l.i.children,p=>(r(),I(C,{key:p.path},[!p.children||!p.children.length?(r(),g(e,{key:0,onClick:c=>o("addTab",p),index:p.path},{default:n(()=>[V(O(p.title),1)]),_:2},1032,["onClick","index"])):(r(),g(a,{key:1,i:p,onAddTab:t[0]||(t[0]=c=>o("addTab",c))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),ko=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",path:"/pageList"},{title:"表单",path:"/addForm"},{title:"图表",path:"/echartPage"}]},{title:"文档",icon:"Notebook",path:"/docs"}],wo=E({__name:"sideBar",emits:["addTab"],setup(l,{emit:o}){return(s,t)=>{const u=me,e=Ee,a=yo,d=Ie,p=lt;return r(),g(p,{class:"side-bar"},{default:n(()=>[f(d,null,{default:n(()=>[(r(!0),I(C,null,R(F(ko),c=>(r(),I(C,{key:c.title},[!c.children||!c.children.length?(r(),g(e,{key:0,index:c.title+c.path,onClick:_=>o("addTab",c)},{default:n(()=>[c.icon?(r(),g(u,{key:0},{default:n(()=>[(r(),g(oe(c.icon)))]),_:2},1024)):M("",!0),P("span",null,O(c.title),1)]),_:2},1032,["index","onClick"])):(r(),g(a,{key:1,i:c,onAddTab:t[0]||(t[0]=_=>o("addTab",_))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const To=q(wo,[["__scopeId","data-v-9c62f71b"]]),xo=""+new URL("../logo.svg",import.meta.url).href,Ae=l=>(_t("data-v-0c6f20b0"),l=l(),mt(),l),Lo={class:"top-bar"},So=Ae(()=>P("img",{src:xo,class:"top-bar-icon",alt:""},null,-1)),$o=Ae(()=>P("span",{class:"top-bar-text"},"vue3+element-plus",-1)),Io=E({__name:"topBar",setup(l){const o=re(),s=sessionStorage.getItem("username"),t=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),o.push("/login")};return(u,e)=>{const a=nt,d=be("SwitchButton"),p=me,c=st,_=rt;return r(),I("div",Lo,[f(_,{gutter:20},{default:n(()=>[f(a,{span:12},{default:n(()=>[So,$o]),_:1}),f(a,{span:4,offset:8,class:"top-bar-right"},{default:n(()=>[f(c,{underline:!1,onClick:t},{default:n(()=>[V(O(F(s)),1),f(p,{class:"el-icon--right"},{default:n(()=>[f(d)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const Vo=q(Io,[["__scopeId","data-v-0c6f20b0"]]),Co={class:"home-waper"},Eo={class:"home-waper-top"},Po={class:"home-waper-body"},Mo={class:"home-waper-content"},Oo={class:"home-waper-view"},Ro=E({__name:"waper",setup(l){const o=T(),s=T(!0),t=T(),u=ne();function e(_){var b;(b=t==null?void 0:t.value.$.__v_cache)==null||b.delete(_)}function a(_){e(_),s.value=!1,bt(()=>{s.value=!0})}function d(_){var b;(b=o.value)==null||b.addTab(_)}function p(_){var b;(b=o.value)==null||b.removeTab(_)}function c(_){var b,x;(b=o.value)==null||b.removeTab(u.path),(x=o.value)==null||x.addTab(_)}return ae("addTab",d),ae("removeTab",p),ae("reloadTab",a),ae("replaceTab",c),(_,b)=>{const x=Vo,i=To,h=go,S=be("router-view");return r(),I("div",Co,[P("div",Eo,[f(x)]),P("div",Po,[f(i,{onAddTab:d}),P("div",Mo,[f(h,{ref_key:"tabMenuRef",ref:o,onDelCache:e,onReloadTab:a},null,512),P("div",Oo,[f(S,null,{default:n(({Component:k,route:v})=>[(r(),g(ft,{ref_key:"tabTool",ref:t},[s.value&&v.meta.keepAlive!==!1?(r(),g(oe(k),{key:v.fullPath})):M("",!0)],1536)),s.value&&v.meta.keepAlive===!1?(r(),g(oe(k),{key:v.fullPath})):M("",!0)]),_:1})])])])])}}});const zo=q(Ro,[["__scopeId","data-v-401884ee"]]),Ho=Object.freeze(Object.defineProperty({__proto__:null,default:zo},Symbol.toStringTag,{value:"Module"})),Do=()=>vt().proxy,Fo=E({__name:"home",setup(l){const o=Do(),s=T(o.$translate("home.title")),{toggle:t,isFullscreen:u}=ht(),e=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(a,d)=>{const p=$e,c=Se,_=Y;return r(),I(C,null,[f(c,{title:s.value,column:1,border:""},{default:n(()=>[(r(),I(C,null,R(e,b=>f(p,{key:b.label,label:b.label},{default:n(()=>[V(O(b.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"]),f(_,{onClick:F(t)},{default:n(()=>[V(O(F(u)?"退出全屏":"全屏"),1)]),_:1},8,["onClick"])],64)}}}),Qo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),Ao={};function Bo(l,o){return r(),I("div",null,"404")}const Uo=q(Ao,[["render",Bo]]),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Uo},Symbol.toStringTag,{value:"Module"}));export{G as _,Yo as a,Wo as g,Qo as h,Go as l,Ko as r,ve as u,Ho as w};
