import{E as Re,a as H,b as Pe,v as ne,c as se,d as Me,e as Oe,f as Fe,g as De,h as Be,i as Ue,j as je,k as Ae,l as be,m as ve,n as he,o as ge,p as qe,q as O,r as le,s as Ne,t as Je,u as ye,w as ke,x as we,y as We,z as Ke,A as Ge,B as xe,C as He,D as Qe,F as re,G as Se,H as Xe,I as Ye,J as Ze,K as et}from"./element-75828da5.js";import{by as n,bz as $,bV as R,bx as K,bw as I,bm as x,b_ as Z,bP as v,bO as l,bU as M,bJ as f,bc as z,ch as D,bS as L,bT as P,bE as J,bR as W,cz as tt,bi as ue,cS as ot,cT as ee,be as Te,bt as Ve,cU as at,bl as ce,cV as $e,bh as Y,bq as lt,bC as nt,bg as Le,cA as ie,bQ as de,cW as st,cX as rt,bu as me,cY as ut,bf as ct}from"./chunks-d8ee6d20.js";import{u as it,e as dt,i as pt,a as _t,b as mt,c as ft,d as bt,f as vt,g as ht,h as gt,j as yt,k as kt,l as wt}from"./echarts-af95e5a7.js";const xt="modulepreload",St=function(s,u){return new URL(s,u).href},fe={},G=function(u,a,o){if(!a||a.length===0)return u();const t=document.getElementsByTagName("link");return Promise.all(a.map(e=>{if(e=St(e,o),e in fe)return;fe[e]=!0;const r=e.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(!!o)for(let b=t.length-1;b>=0;b--){const y=t[b];if(y.href===e&&(!r||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${c}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":xt,r||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),r)return new Promise((b,y)=>{i.addEventListener("load",b),i.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>u()).catch(e=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e})},$o=[{path:"/singleList",name:"singleList",component:()=>G(()=>Promise.resolve().then(()=>Ot),void 0,import.meta.url),meta:{title:"简单列表"}},{path:"/pageList",name:"pageList",component:()=>G(()=>Promise.resolve().then(()=>Ut),void 0,import.meta.url),meta:{title:"分页列表"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>G(()=>Promise.resolve().then(()=>At),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>G(()=>Promise.resolve().then(()=>ae),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>G(()=>Promise.resolve().then(()=>Gt),void 0,import.meta.url),meta:{title:"echart"}}];const q=(s,u)=>{const a=s.__vccOpts||s;for(const[o,t]of u)a[o]=t;return a},Tt={},Vt={class:"flex"},$t={class:"flex-header"},Lt={class:"flex-content"},Ct={class:"flex-footer"};function Et(s,u){return n(),$("div",Vt,[R("div",$t,[K(s.$slots,"header",{},void 0,!0)]),R("div",Lt,[K(s.$slots,"default",{},void 0,!0)]),R("div",Ct,[K(s.$slots,"footer",{},void 0,!0)])])}const pe=q(Tt,[["render",Et],["__scopeId","data-v-f135e414"]]),It=["textContent"],Ce=I({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(s,{expose:u,emit:a}){const o=x(!1),t=x();function e(c){o.value=c}function r(c){a("selection-change",c)}return u({setLoading:e}),(c,d)=>{const i=Re,b=H,y=Pe,k=ne;return Z((n(),v(y,{onSelectionChange:r,ref_key:"tableModelRef",ref:t,data:s.data,height:"100%",border:""},{default:l(()=>[s.selection?(n(),v(i,{key:0,type:"selection",width:"55"})):M("",!0),f(i,{type:"index",width:"50"}),(n(!0),$(z,null,D(s.header,p=>(n(),v(i,{key:p.prop,prop:p.prop,width:p.width,label:p.label,fixed:p.fixed,sortable:p.sortable},{default:l(({row:h})=>[K(c.$slots,p.prop,{row:h},()=>[p.prop==="action"?(n(!0),$(z,{key:0},D(p.options,V=>(n(),v(b,{key:V.name,link:"",type:"primary",onClick:g=>V.onClick(h)},{default:l(()=>[L(P(V.name),1)]),_:2},1032,["onClick"]))),128)):(n(),$("div",{key:1,textContent:P(h[p.prop])},null,8,It))])]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[k,o.value]])}}}),zt=I({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(s,{expose:u,emit:a}){const o=s,t=x(),e=J(o.formData),r=x(!1),c=async()=>{var h;let p=J({valid:!1,data:e,fields:null});return await((h=t.value)==null?void 0:h.validate((V,g)=>{V?p.valid=!0:(console.log("error submit!",g),p.fields=g)})),p},d=()=>{i(),a("submit")},i=()=>{var p;k(!1),(p=t.value)==null||p.resetFields()},b=p=>{var h;(h=t.value)==null||h.validateField(p)},y=(p,h)=>{e[p]=h},k=p=>{r.value=p};return u({submitForm:c,resetFields:i,validateField:b,changeValue:y,setLoading:k}),(p,h)=>{const V=se,g=Me,m=Oe,T=Fe,C=De,j=Be,N=Ue,w=je,E=Ae,B=be,Q=ve,F=H,A=he,X=ge;return n(),v(X,{class:"formModel",size:p.size,inline:p.inline,ref_key:"ruleFormRef",ref:t,model:e,"label-width":p.labelWidth},{default:l(()=>[(n(!0),$(z,null,D(p.formItem,_=>(n(),v(A,{key:_.prop,label:_.label,prop:_.prop,rules:_.rules},{default:l(()=>[f(Q,{wrap:""},{default:l(()=>[_.type==="input"?(n(),v(V,{key:0,style:W(_.style||p.itemStyle),maxlength:_.maxlength,"show-word-limit":"",modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):M("",!0),_.type==="input-number"?(n(),v(g,{key:1,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S,min:_.min,max:_.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):M("",!0),_.type==="select"?(n(),v(T,{key:2,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S,placeholder:"请选择",clearable:"",filterable:"",multiple:_.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:l(()=>[(n(!0),$(z,null,D(_.options,S=>(n(),v(m,{label:S.label,value:S.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):M("",!0),_.type==="date"?(n(),v(C,{key:3,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S,type:_.dateType,format:_.format,"value-format":_.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):M("",!0),_.type==="switch"?(n(),v(j,{key:4,modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),_.type==="checkbox"?(n(),v(w,{key:5,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S},{default:l(()=>[(n(!0),$(z,null,D(_.options,S=>(n(),v(N,{key:S.label,label:S.label,name:_.prop},{default:l(()=>[L(P(S.name||S.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),_.type==="radio"?(n(),v(B,{key:6,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S},{default:l(()=>[(n(!0),$(z,null,D(_.options,S=>(n(),v(E,{key:S.label,label:S.label},{default:l(()=>[L(P(S.name||S.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):M("",!0),_.type==="textarea"?(n(),v(V,{key:7,style:W(_.style||p.itemStyle),modelValue:e[_.prop],"onUpdate:modelValue":S=>e[_.prop]=S,type:"textarea",rows:_.row,maxlength:_.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):M("",!0),K(p.$slots,_.prop,{item:_},void 0,!0)]),_:2},1024),_.prop==="searchBtn"?(n(),$(z,{key:0},[f(F,{type:"primary",onClick:h[0]||(h[0]=S=>a("submit")),disabled:r.value},{default:l(()=>[L("查询")]),_:1},8,["disabled"]),f(F,{disabled:r.value,onClick:d},{default:l(()=>[L("重置")]),_:1},8,["disabled"])],64)):M("",!0),_.prop==="submitBtn"?(n(),$(z,{key:1},[f(F,{type:"primary",onClick:h[1]||(h[1]=S=>a("submit")),disabled:r.value},{default:l(()=>[L("提交")]),_:1},8,["disabled"]),f(F,{disabled:r.value,onClick:h[2]||(h[2]=S=>a("close"))},{default:l(()=>[L("关闭")]),_:1},8,["disabled"])],64)):M("",!0)]),_:2},1032,["label","prop","rules"]))),128)),f(A,null,{default:l(()=>[K(p.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const te=q(zt,[["__scopeId","data-v-706fa5e0"]]);async function U(s,u){return await fetch(s,{body:u&&JSON.stringify(u),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(a=>a.json())}const Rt=I({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(s,{emit:u}){const a=()=>{u("update:modelValue",!1),u("close")};return(o,t)=>{const e=qe;return n(),v(e,{"model-value":o.modelValue,title:o.title,width:o.width,draggable:o.draggable,onClosed:a,"close-on-click-modal":!1},tt({default:l(()=>[K(o.$slots,"default")]),_:2},[o.showFooter?{name:"footer",fn:l(()=>[K(o.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),Pt=I({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(s,{emit:u}){const a=s,o=x(),t=J({label:"",value:"",type:"type"}),e=J([{label:"类型",prop:"type",type:"select",options:a.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),r=async()=>{var b,y;const{valid:d,data:i}=await((b=o.value)==null?void 0:b.submitForm());d&&((y=o.value)==null||y.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/addOption",i).then(({success:k,result:p})=>{var h;k?(O.success("添加成功"),c(),u("submit")):(O.error(p||"添加失败"),(h=o.value)==null||h.setLoading(!1))}).catch(()=>{var k;O.error("添加失败"),(k=o.value)==null||k.setLoading(!1)}))},c=()=>{var d;(d=o.value)==null||d.resetFields(),u("update:modelValue",!1)};return(d,i)=>{const b=te,y=Rt;return n(),v(y,{title:"新增","model-value":s.modelValue,width:"400px",onClose:c},{default:l(()=>[f(b,{"label-width":"90px",ref_key:"ruleFormRef",ref:o,formData:t,formItem:e,onSubmit:r,onClose:c},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),Mt=I({__name:"singleList",setup(s){const u=x([]),a=x(),o=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:y=>i(y)}]}],t=x(!1),e=x(),r=J({type:"",label:""}),c=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],d=J([{label:"类型",prop:"type",type:"select",options:c},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),i=y=>{le.alert(`确定删除${y.label}`,"删除",{confirmButtonText:"OK",callback:k=>{k==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:y._id}).then(({success:p})=>{p?(O.success("删除成功"),b()):O.error("删除失败")})}})},b=async()=>{var k,p,h;const{data:y}=await((k=e.value)==null?void 0:k.submitForm());u.value=[],(p=a.value)==null||p.setLoading(!0),(h=e.value)==null||h.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:y}).then(V=>{var g,m;u.value=V.result,(g=a.value)==null||g.setLoading(!1),(m=e.value)==null||m.setLoading(!1)}).catch(()=>{var V,g;(V=a.value)==null||V.setLoading(!1),(g=e.value)==null||g.setLoading(!1)})};return ue(()=>{b()}),(y,k)=>{const p=H,h=te,V=Ce,g=pe;return n(),v(g,null,{header:l(()=>[f(h,{inline:"",ref_key:"searchFormRef",ref:e,formData:r,formItem:d,onSubmit:b},{default:l(()=>[f(p,{type:"primary",onClick:k[0]||(k[0]=m=>t.value=!0)},{default:l(()=>[L("新增")]),_:1})]),_:1},8,["formData","formItem"])]),default:l(()=>[f(V,{data:u.value,ref_key:"tableRef",ref:a,header:o},null,8,["data"]),f(Pt,{onSubmit:b,modelValue:t.value,"onUpdate:modelValue":k[1]||(k[1]=m=>t.value=m),typeOptions:c},null,8,["modelValue"])]),_:1})}}}),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),Ft=I({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(s,{emit:u}){const a=s,o=x(1),t=x(a.defaultPageSize),e=c=>{o.value=1,u("size-change",c)},r=c=>u("current-change",c);return(c,d)=>{const i=Ne;return n(),v(i,{class:"pagination","current-page":o.value,"onUpdate:currentPage":d[0]||(d[0]=b=>o.value=b),"page-size":t.value,"onUpdate:pageSize":d[1]||(d[1]=b=>t.value=b),background:a.background,small:a.small,layout:a.layout,total:a.total,"page-sizes":a.pageSizes,"default-page-size":a.defaultPageSize,onSizeChange:e,onCurrentChange:r},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const Dt=q(Ft,[["__scopeId","data-v-b2e93b00"]]),Ee=ot("reloadTabs",()=>{const s=x([]);function u(t){s.value.includes(t)||s.value.push(t)}function a(t){s.value=s.value.filter(e=>e!==t)}function o(t,e){s.value.includes(t)&&(a(t),e&&e())}return{reloadList:s,addReloadTab:u,removeReloadTab:a,checkReload:o}}),Ie=async()=>{let s={};const u=sessionStorage.getItem("options");if(u)Object.assign(s,JSON.parse(u));else{const{result:a}=await U("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});a.forEach(o=>{s[o.type]||(s[o.type]=[]),s[o.type].push(o)}),sessionStorage.setItem("options",JSON.stringify(s))}return s},Bt=I({__name:"pageList",setup(s){const u=Ee(),a=ee(),o=J({page:1,total:0,size:20}),t=x({}),e=x([]),r=x([]),c=x(),d=x(),i=J({type:"",name:""}),b=Te(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:t.value.region},{label:"活动分类",prop:"type",type:"select",options:t.value.type},{prop:"searchBtn"}]),y=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:w=>g(w)},{name:"编辑",onClick:w=>m(w)},{name:"复制",onClick:w=>T(w)},{name:"删除",onClick:w=>C(w)}]}],k=w=>{o.size=w,o.page=1,h()},p=w=>{o.page=w,h()},h=async()=>{var E,B,Q;const{data:w}=await((E=d.value)==null?void 0:E.submitForm());(B=c.value)==null||B.setLoading(!0),(Q=d.value)==null||Q.setLoading(!0),U("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:o.size,page:o.page,search:w}).then(F=>{var A,X;e.value=F.result||[],o.total=F.total||0,(A=c.value)==null||A.setLoading(!1),(X=d.value)==null||X.setLoading(!1)}).catch(()=>{var F,A;e.value=[],o.total=0,(F=c.value)==null||F.setLoading(!1),(A=d.value)==null||A.setLoading(!1)})},V=()=>{a.push("/addForm")},g=w=>{a.push(`/detailInfo/${w._id}`)},m=w=>{a.push(`/editForm/${w._id}`)},T=w=>{a.push(`/copyForm/${w._id}`)},C=w=>{le.alert(`确定删除${w.name}`,"删除",{confirmButtonText:"OK",callback:E=>{E==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:w._id}).then(({success:B})=>{B?(O.success("删除成功"),h()):O.error("删除失败")})}})},j=w=>{r.value=w},N=()=>{le.alert(`确定删除${r.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:w=>{w==="confirm"&&U("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:r.value.map(E=>E._id)}).then(({success:E})=>{E?(O.success("删除成功"),h()):O.error("删除失败")})}})};return Ve(async()=>{t.value=await Ie(),h()}),at(()=>{u.checkReload("pageList",()=>{h()})}),(w,E)=>{const B=H,Q=te,F=Je,A=ve,X=Ce,_=Dt,S=pe;return n(),v(S,null,{header:l(()=>[f(Q,{inline:"",ref_key:"searchFormRef",ref:d,formData:i,formItem:b.value,onSubmit:h},{default:l(()=>[f(B,{type:"primary",onClick:V},{default:l(()=>[L("新增")]),_:1}),f(B,{type:"primary",disabled:!r.value.length,onClick:N},{default:l(()=>[L("批量删除")]),_:1},8,["disabled"])]),_:1},8,["formData","formItem"])]),footer:l(()=>[f(_,{ref:"pageModel",total:o.total,"default-page-size":20,onSizeChange:k,onCurrentChange:p},null,8,["total"])]),default:l(()=>[f(X,{onSelectionChange:j,selection:"",data:e.value,ref_key:"tableRef",ref:c,header:y},{region:l(({row:oe})=>[L(P(oe.region.join()),1)]),type:l(({row:oe})=>[f(A,{wrap:""},{default:l(()=>[(n(!0),$(z,null,D(oe.type,_e=>(n(),v(F,{key:_e},{default:l(()=>[L(P(_e),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"})),jt=I({__name:"detailInfo",setup(s){const u=ce("removeTab"),o=$e().params.id,t=x({}),e=x(!0);return ue(()=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:o}).then(r=>{t.value=r.result,e.value=!1}).catch(()=>{e.value=!1})}),(r,c)=>{const d=H,i=ke,b=ye,y=ne;return Z((n(),v(b,{column:1,border:""},{extra:l(()=>[f(d,{onClick:c[0]||(c[0]=k=>Y(u)(r.$route.path))},{default:l(()=>[L("关闭")]),_:1})]),default:l(()=>[(n(!0),$(z,null,D(Object.keys(t.value),k=>(n(),v(i,{key:k,label:k},{default:l(()=>[L(P(t.value[k]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[y,e.value]])}}}),At=Object.freeze(Object.defineProperty({__proto__:null,default:jt},Symbol.toStringTag,{value:"Module"})),qt=I({__name:"formPage",setup(s){const u=ce("removeTab"),a=Ee(),o=$e(),t=o.params.id,e=o.params.copyId,r=x(!0),c=x(),d=J({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),i=x({}),b=Te(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:i.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],dateType:"datetimerange",type:"date",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:i.value.type},{label:"资源类型",prop:"resource",type:"radio",options:i.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),y=async()=>{var m;const{valid:V,data:g}=await((m=c.value)==null?void 0:m.submitForm());V&&(t?U("https://5ykenqzacs.hk.aircode.run/editItem",{data:g,id:t,type:"demoList"}).then(({success:T})=>{T?(O.success("修改成功"),k()):O.error("修改失败")}):U("https://5ykenqzacs.hk.aircode.run/addItem",{data:g,type:"demoList"}).then(({success:T})=>{T?(O.success("提交成功"),k()):O.error("提交失败")}))},k=()=>{a.addReloadTab("pageList"),u(o.path)},p=(V,g)=>{var m;(m=c.value)==null||m.changeValue(V,g)},h=V=>{U("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:V}).then(({success:g,result:m})=>{g&&m&&Object.keys(m).forEach(T=>{["_id","updatedAt","createdAt"].includes(T)||(d[T]=m[T])})})};return Ve(async()=>{i.value=await Ie(),(t||e)&&await h(t||e),r.value=!1}),(V,g)=>{const m=H,T=se,C=te,j=we,N=ne;return n(),v(j,null,{default:l(()=>[Z((n(),v(C,{ref_key:"ruleFormRef",ref:c,formData:d,formItem:b.value,"label-width":"120px",onSubmit:y,onClose:g[2]||(g[2]=w=>Y(u)(V.$route.path))},{name:l(()=>[f(m,{type:"primary",onClick:g[0]||(g[0]=w=>p("name","test"))},{default:l(()=>[L("修改活动名称")]),_:1})]),test:l(()=>[f(T,{modelValue:d.test,"onUpdate:modelValue":g[1]||(g[1]=w=>d.test=w)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[N,r.value]])]),_:1})}}}),ae=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));it([pt,_t,mt,ft,bt,vt,ht,gt,yt,kt,wt]);const Nt={echarts:dt},Jt=I({__name:"echartModel",props:{options:{}},setup(s,{expose:u}){const a=s,o=x(null),t=lt(),e=r=>{var c;(c=t.value)==null||c.resize(r)};return ue(()=>{var r;t.value=Nt.echarts.init(o.value),(r=t.value)==null||r.setOption(a.options),window.addEventListener("resize",e)}),nt(()=>{window.removeEventListener("resize",e)}),Le(()=>a.options,r=>{var c;(c=t.value)==null||c.setOption(r)},{deep:!0}),u({resize:e}),(r,c)=>(n(),$("div",{class:"chartDomStyle",ref_key:"chartDom",ref:o},null,512))}});const Wt=q(Jt,[["__scopeId","data-v-32818e74"]]),Kt=I({__name:"echartPage",setup(s){const u=c=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:c}]}),a=x("300px"),o=x(),t=x("bar");function e(c){var d;(d=o.value)==null||d.resize({height:c})}function r(c){t.value=c}return(c,d)=>{const i=We,b=be,y=Wt;return n(),$(z,null,[f(b,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=k=>a.value=k),onChange:e},{default:l(()=>[f(i,{label:"300px"}),f(i,{label:"500px"})]),_:1},8,["modelValue"]),f(b,{modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=k=>t.value=k),onChange:r},{default:l(()=>[f(i,{label:"bar"}),f(i,{label:"line"})]),_:1},8,["modelValue"]),R("div",{class:"chartDom",style:W({height:a.value})},[f(y,{ref_key:"chartDom",ref:o,options:u(t.value)},null,8,["options"])],4)],64)}}});const Gt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"})),Ht={class:"version"},Qt=I({__name:"loginPage",setup(s){const u=ee(),a=x({username:"",password:""}),o=ce("log");o("title",123,4,5,6),o("object",{name:"abc",age:18},5,7);const t=document.querySelector('meta[name="version"]'),e=document.querySelector('meta[name="buildTime"]'),r=x(!1),c=()=>{r.value=!0,setTimeout(()=>{r.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",a.value.username),u.push("/home")},1e3)};return(d,i)=>{const b=se,y=he,k=H,p=ge,h=Ke,V=pe;return n(),v(V,null,{footer:l(()=>{var g,m;return[R("div",Ht," vue3-web-demo "+P((g=Y(t))==null?void 0:g.content)+" "+P((m=Y(e))==null?void 0:m.content),1)]}),default:l(()=>[f(h,{class:"box-card",header:d.$translate("home.title")},{default:l(()=>[f(p,{"label-width":"80px",model:a.value},{default:l(()=>[f(y,{label:"帐号"},{default:l(()=>[f(b,{modelValue:a.value.username,"onUpdate:modelValue":i[0]||(i[0]=g=>a.value.username=g),maxLength:"10"},null,8,["modelValue"])]),_:1}),f(y,{label:"密码"},{default:l(()=>[f(b,{modelValue:a.value.password,"onUpdate:modelValue":i[1]||(i[1]=g=>a.value.password=g),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),f(y,null,{default:l(()=>[f(k,{type:"primary",loading:r.value,disabled:!a.value.username||!a.value.password,onClick:c},{default:l(()=>[L("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["header"])]),_:1})}}});const Xt=q(Qt,[["__scopeId","data-v-1f2d2961"]]),Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Yt=["onContextmenu"],Zt=I({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},setup(s,{expose:u}){const a=s,o=ee(),t=x([a.homeTab]),e=x(t.value[0].path),r=m=>{t.value.find(C=>C.path===m.path)||t.value.push(m),e.value=m.path},c=m=>{const T=t.value;if(e.value===m){const C=T.findIndex(N=>N.path===m),j=T[C+1]||T[C-1]||T[0];e.value=j.path}t.value=t.value.filter(C=>C.path!==m)},d=x(!1),i=x(""),b=x(),y={mounted(m,T){m.handler=function(C){m.contains(C.target)||T.value(C)},document.addEventListener("click",m.handler,!0)},unmounted(m){document.removeEventListener("click",m.handler)}},k=(m,T)=>{m.preventDefault(),b.value=m.currentTarget,d.value=!0,i.value=T},p=()=>{V(),t.value=t.value.filter(m=>m.closable===!1),e.value=t.value[0].path},h=()=>{V(),t.value=t.value.filter(m=>i.value===m.path||m.closable===!1),e.value=i.value},V=()=>{d.value=!1},g=m=>{let T=t.value.find(C=>C.path===m);T&&o.currentRoute.value.path!==T.path&&o.push(T.path)};return u({addTab:r,removeTab:c}),Le(()=>o.currentRoute.value.path,m=>{const{title:T,closable:C=!0}=o.currentRoute.value.meta;r({title:T,closable:C,path:m})}),(m,T)=>{const C=Ge,j=xe,N=He,w=Qe;return n(),v(w,{modelValue:e.value,"onUpdate:modelValue":T[0]||(T[0]=E=>e.value=E),type:"card",class:"tabMenu",onTabRemove:c,onTabChange:g},{default:l(()=>[(n(!0),$(z,null,D(t.value,E=>(n(),v(C,{key:E.path,name:E.path,label:E.title,closable:E.closable!==!1},{label:l(()=>[Z((n(),$("div",{onContextmenu:B=>k(B,E.path)},[L(P(E.title),1)],40,Yt)),[[y,V]])]),_:2},1032,["name","label","closable"]))),128)),f(N,{ref:"tooltipRef","virtual-ref":b.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:d.value},{default:l(()=>[R("ul",null,[R("li",null,[f(j,{underline:!1,onClick:h},{default:l(()=>[L("关闭其他")]),_:1})]),R("li",null,[f(j,{underline:!1,onClick:p},{default:l(()=>[L("关闭所有")]),_:1})])])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const eo=q(Zt,[["__scopeId","data-v-089ddfbf"]]),to=I({__name:"subMenu",props:["i"],emits:["addTab"],setup(s,{emit:u}){return(a,o)=>{const t=re,e=Se,r=ie("subMenu",!0),c=Xe;return n(),v(c,{index:s.i.title+s.i.path},{title:l(()=>[s.i.icon?(n(),v(t,{key:0},{default:l(()=>[(n(),v(de(s.i.icon)))]),_:1})):M("",!0),R("span",null,P(s.i.title),1)]),default:l(()=>[(n(!0),$(z,null,D(s.i.children,d=>(n(),$(z,{key:d.path},[!d.children||!d.children.length?(n(),v(e,{key:0,onClick:i=>u("addTab",d),index:d.path},{default:l(()=>[L(P(d.title),1)]),_:2},1032,["onClick","index"])):(n(),v(r,{key:1,i:d,onAddTab:o[0]||(o[0]=i=>u("addTab",i))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),oo=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",children:[{title:"表单",path:"/addForm"},{title:"分页列表",path:"/pageList"}]},{title:"echart",path:"/echartPage"}]}],ao=I({__name:"sideBar",emits:["addTab"],setup(s,{emit:u}){return(a,o)=>{const t=re,e=Se,r=to,c=we,d=Ye;return n(),v(d,{class:"side-bar"},{default:l(()=>[f(c,null,{default:l(()=>[(n(!0),$(z,null,D(Y(oo),i=>(n(),$(z,{key:i.title},[!i.children||!i.children.length?(n(),v(e,{key:0,index:i.title+i.path,onClick:b=>u("addTab",i)},{default:l(()=>[i.icon?(n(),v(t,{key:0},{default:l(()=>[(n(),v(de(i.icon)))]),_:2},1024)):M("",!0),R("span",null,P(i.title),1)]),_:2},1032,["index","onClick"])):(n(),v(r,{key:1,i,onAddTab:o[0]||(o[0]=b=>u("addTab",b))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const lo=q(ao,[["__scopeId","data-v-9c62f71b"]]),no=""+new URL("../logo.svg",import.meta.url).href,ze=s=>(st("data-v-0c6f20b0"),s=s(),rt(),s),so={class:"top-bar"},ro=ze(()=>R("img",{src:no,class:"top-bar-icon",alt:""},null,-1)),uo=ze(()=>R("span",{class:"top-bar-text"},"vue3+element-plus",-1)),co=I({__name:"topBar",setup(s){const u=ee(),a=sessionStorage.getItem("username"),o=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),u.push("/login")};return(t,e)=>{const r=Ze,c=ie("SwitchButton"),d=re,i=xe,b=et;return n(),$("div",so,[f(b,{gutter:20},{default:l(()=>[f(r,{span:12},{default:l(()=>[ro,uo]),_:1}),f(r,{span:4,offset:8,class:"top-bar-right"},{default:l(()=>[f(i,{underline:!1,onClick:o},{default:l(()=>[L(P(Y(a)),1),f(d,{class:"el-icon--right"},{default:l(()=>[f(c)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const io=q(co,[["__scopeId","data-v-0c6f20b0"]]),po={class:"home-waper"},_o={class:"home-waper-top"},mo={class:"home-waper-body"},fo={class:"home-waper-content"},bo={class:"home-waper-view"},vo=I({__name:"waper",setup(s){const u=x();function a(t){var e;(e=u.value)==null||e.addTab(t)}function o(t){var e;(e=u.value)==null||e.removeTab(t)}return me("addTab",a),me("removeTab",o),(t,e)=>{const r=io,c=lo,d=eo,i=ie("router-view");return n(),$("div",po,[R("div",_o,[f(r)]),R("div",mo,[f(c,{onAddTab:a}),R("div",fo,[f(d,{ref_key:"tabMenuRef",ref:u},null,512),R("div",bo,[f(i,null,{default:l(({Component:b,route:y})=>[(n(),v(ut,{max:3,include:/List/},[(n(),v(de(b),{key:y.path}))],1024))]),_:1})])])])])}}});const ho=q(vo,[["__scopeId","data-v-76f1f9c8"]]),Co=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),go=()=>ct().proxy,yo=I({__name:"home",setup(s){const u=go(),a=x(u.$translate("home.title")),o=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(t,e)=>{const r=ke,c=ye;return n(),v(c,{title:a.value,column:1,border:""},{default:l(()=>[(n(),$(z,null,D(o,d=>f(r,{key:d.label,label:d.label},{default:l(()=>[L(P(d.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"])}}}),Eo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),ko={};function wo(s,u){return n(),$("div",null," 404 ")}const xo=q(ko,[["render",wo]]),Io=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));export{G as _,Io as a,Eo as h,Lo as l,$o as r,Co as w};
