import{bz as h,cB as _,o as g,c as v,bK as p,bP as P,bk as b,bf as y,bW as E,cY as L,cZ as A,cO as O,c_ as I,c$ as V,d0 as l,d1 as w}from"./chunks-f038bb17.js";import{L as R,M as S}from"./element-83ff31f0.js";import{_ as c,r as N,u as z,g as C}from"./views-b2eabf23.js";import{E as x}from"./icon-20b67a8b.js";import"./echarts-5dec0f09.js";import"./docs-d5e45c9a.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const B=E("div",{id:"container"},null,-1),D="large",T=3e3,k=h({__name:"App",setup(t){return(o,n)=>{const s=_("RouterView"),e=R;return g(),v(y,null,[B,p(e,{size:D,"z-index":T,locale:b(S)},{default:P(()=>[p(s)]),_:1},8,["locale"])],64)}}}),u=L({history:A("./"),routes:[{path:"/login",name:"login",component:()=>c(()=>import("./views-b2eabf23.js").then(t=>t.l),["./views-b2eabf23.js","./element-83ff31f0.js","./chunks-f038bb17.js","./chunks-d80eaee0.css","./icon-20b67a8b.js","./element-79aa3c4a.css","./echarts-5dec0f09.js","./docs-d5e45c9a.js","./views-11fac837.css"],import.meta.url)},{path:"/",component:()=>c(()=>import("./views-b2eabf23.js").then(t=>t.w),["./views-b2eabf23.js","./element-83ff31f0.js","./chunks-f038bb17.js","./chunks-d80eaee0.css","./icon-20b67a8b.js","./element-79aa3c4a.css","./echarts-5dec0f09.js","./docs-d5e45c9a.js","./views-11fac837.css"],import.meta.url),children:[{path:"/home",name:"home",component:()=>c(()=>import("./views-b2eabf23.js").then(t=>t.h),["./views-b2eabf23.js","./element-83ff31f0.js","./chunks-f038bb17.js","./chunks-d80eaee0.css","./icon-20b67a8b.js","./element-79aa3c4a.css","./echarts-5dec0f09.js","./docs-d5e45c9a.js","./views-11fac837.css"],import.meta.url),meta:{title:"首页",closable:!1,keepAlive:!1}},...N,{path:"/:pathMatch(.*)*",name:"404",component:()=>c(()=>import("./views-b2eabf23.js").then(t=>t.a),["./views-b2eabf23.js","./element-83ff31f0.js","./chunks-f038bb17.js","./chunks-d80eaee0.css","./icon-20b67a8b.js","./element-79aa3c4a.css","./echarts-5dec0f09.js","./docs-d5e45c9a.js","./views-11fac837.css"],import.meta.url)}]}]}),F={install(t,o){t.config.globalProperties.$translate=n=>n.split(".").reduce((s,e)=>{if(s)return s[e]},o),t.provide("i18n",o)}},i=O(k);for(const[t,o]of Object.entries(x))i.component(t,o);i.use(I());i.use(u);i.mount("#app");i.use(F,{home:{title:"vue3 demo"}});i.use(V,{style:"padding: 8px; color: #fff",background:["#333","red"],border:"6px",display:!1});l.configure({easing:"ease",speed:500,showSpinner:!1,trickle:!0,trickleSpeed:200,minimum:.3,parent:"#container"});sessionStorage.setItem("reload","1");u.beforeEach(async(t,o,n)=>{l.start();const s=sessionStorage.getItem("login")==="1",e=sessionStorage.getItem("reload")==="1",r=t.fullPath==="/login";if(sessionStorage.removeItem("reload"),e&&s)n("/home");else if(s||r){const{setAuth:a,removeAuth:d}=z();if(t.meta.auth){const m=t.meta.auth,f=await C(m);a(m,f)}o.meta.auth&&d(o.meta.auth),n()}else n("/login")});u.afterEach((t,o,n)=>{l.done(),w(n)&&console.log("failed navigation",n)});
