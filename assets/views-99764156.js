import{E as Ee,a as Q,b as Ie,v as ce,c as ie,d as ze,e as Pe,f as Me,g as Re,h as Oe,i as De,j as Fe,k as Be,l as ve,m as he,n as ge,o as ye,p as Ue,q as F,r as ue,s as Ae,t as je,u as ke,w as we,x as Te,y as qe,z as Ne,A as Je,B as We,C as Ke,D as de,F as xe,G as Ge,H as He,I as Qe,J as Xe,K as Ye}from"./element-ff363a33.js";import{by as s,bz as C,bV as R,bx as K,bw as P,bm as T,b_ as oe,bP as v,bO as o,bU as O,bJ as b,bc as M,ch as U,bS as L,bT as D,bE as N,bR as W,cz as Ze,bi as ae,cS as le,be as ee,bt as Se,bl as X,cT as pe,bh as Y,bq as et,bC as tt,bg as $e,cA as _e,bQ as te,cU as ot,cV as at,bu as Z,cW as lt,bK as nt,bf as st}from"./chunks-9f8788a3.js";import{u as rt,e as ut,i as ct,a as it,b as dt,c as pt,d as _t,f as mt,g as ft,h as bt,j as vt,k as ht,l as gt}from"./echarts-8eb13975.js";const yt="modulepreload",kt=function(_,r){return new URL(_,r).href},be={},H=function(r,t,a){if(!t||t.length===0)return r();const p=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if(e=kt(e,a),e in be)return;be[e]=!0;const l=e.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!a)for(let d=p.length-1;d>=0;d--){const f=p[d];if(f.href===e&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${u}`))return;const n=document.createElement("link");if(n.rel=l?"stylesheet":yt,l||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),l)return new Promise((d,f)=>{n.addEventListener("load",d),n.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>r()).catch(e=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=e,window.dispatchEvent(l),!l.defaultPrevented)throw e})},xo=[{path:"/singleList",name:"singleList",component:()=>H(()=>Promise.resolve().then(()=>Pt),void 0,import.meta.url),meta:{title:"简单列表"}},{path:"/pageList",name:"pageList",component:()=>H(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url),meta:{title:"分页列表"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>H(()=>Promise.resolve().then(()=>Bt),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>H(()=>Promise.resolve().then(()=>re),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>H(()=>Promise.resolve().then(()=>re),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>H(()=>Promise.resolve().then(()=>re),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>H(()=>Promise.resolve().then(()=>Jt),void 0,import.meta.url),meta:{title:"echart",keepAlive:!1}}];const j=(_,r)=>{const t=_.__vccOpts||_;for(const[a,p]of r)t[a]=p;return t},wt={},Tt={class:"flex"},xt={class:"flex-header"},St={class:"flex-content"},$t={class:"flex-footer"};function Vt(_,r){return s(),C("div",Tt,[R("div",xt,[K(_.$slots,"header",{},void 0,!0)]),R("div",St,[K(_.$slots,"default",{},void 0,!0)]),R("div",$t,[K(_.$slots,"footer",{},void 0,!0)])])}const me=j(wt,[["render",Vt],["__scopeId","data-v-7b6cd6f1"]]),Ct=["textContent"],Ve=P({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(_,{expose:r,emit:t}){const a=T(!1),p=T();function e(u){a.value=u}function l(u){t("selection-change",u)}return r({setLoading:e}),(u,i)=>{const n=Ee,d=Q,f=Ie,y=ce;return oe((s(),v(f,{onSelectionChange:l,ref_key:"tableModelRef",ref:p,data:_.data,height:"100%",border:""},{default:o(()=>[_.selection?(s(),v(n,{key:0,type:"selection",width:"55"})):O("",!0),b(n,{type:"index",width:"50"}),(s(!0),C(M,null,U(_.header,c=>(s(),v(n,{key:c.prop,prop:c.prop,width:c.width,label:c.label,fixed:c.fixed,sortable:c.sortable},{default:o(({row:k})=>[K(u.$slots,c.prop,{row:k},()=>[c.prop==="action"?(s(!0),C(M,{key:0},U(c.options,w=>(s(),v(d,{key:w.name,link:"",type:"primary",onClick:h=>w.onClick(k)},{default:o(()=>[L(D(w.name),1)]),_:2},1032,["onClick"]))),128)):(s(),C("div",{key:1,textContent:D(k[c.prop])},null,8,Ct))])]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[y,a.value]])}}}),Lt=P({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(_,{expose:r,emit:t}){const a=_,p=T(),e=N(a.formData),l=T(!1),u=async()=>{var k;let c=N({valid:!1,data:e,fields:null});return await((k=p.value)==null?void 0:k.validate((w,h)=>{w?c.valid=!0:(console.log("error submit!",h),c.fields=h)})),c},i=()=>{n(),t("submit")},n=()=>{var c;y(!1),(c=p.value)==null||c.resetFields()},d=c=>{var k;(k=p.value)==null||k.validateField(c)},f=(c,k)=>{e[c]=k},y=c=>{l.value=c};return r({submitForm:u,resetFields:n,validateField:d,changeValue:f,setLoading:y}),(c,k)=>{const w=ie,h=ze,$=Pe,g=Me,V=Re,E=Oe,x=De,I=Fe,z=Be,J=ve,q=he,B=Q,G=ge,se=ye;return s(),v(se,{class:"formModel",size:c.size,inline:c.inline,ref_key:"ruleFormRef",ref:p,model:e,"label-width":c.labelWidth},{default:o(()=>[(s(!0),C(M,null,U(c.formItem,m=>(s(),v(G,{key:m.prop,label:m.label,prop:m.prop,rules:m.rules},{default:o(()=>[b(q,{wrap:""},{default:o(()=>[m.type==="input"?(s(),v(w,{key:0,style:W(m.style||c.itemStyle),maxlength:m.maxlength,"show-word-limit":"",modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):O("",!0),m.type==="input-number"?(s(),v(h,{key:1,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S,min:m.min,max:m.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):O("",!0),m.type==="select"?(s(),v(g,{key:2,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S,placeholder:"请选择",clearable:"",filterable:"",multiple:m.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:o(()=>[(s(!0),C(M,null,U(m.options,S=>(s(),v($,{label:S.label,value:S.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):O("",!0),m.type==="date"?(s(),v(V,{key:3,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S,type:m.dateType,format:m.format,"value-format":m.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):O("",!0),m.type==="switch"?(s(),v(E,{key:4,modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S},null,8,["modelValue","onUpdate:modelValue"])):O("",!0),m.type==="checkbox"?(s(),v(I,{key:5,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S},{default:o(()=>[(s(!0),C(M,null,U(m.options,S=>(s(),v(x,{key:S.label,label:S.label,name:m.prop},{default:o(()=>[L(D(S.name||S.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):O("",!0),m.type==="radio"?(s(),v(J,{key:6,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S},{default:o(()=>[(s(!0),C(M,null,U(m.options,S=>(s(),v(z,{key:S.label,label:S.label},{default:o(()=>[L(D(S.name||S.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):O("",!0),m.type==="textarea"?(s(),v(w,{key:7,style:W(m.style||c.itemStyle),modelValue:e[m.prop],"onUpdate:modelValue":S=>e[m.prop]=S,type:"textarea",rows:m.row,maxlength:m.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):O("",!0),K(c.$slots,m.prop,{item:m},void 0,!0)]),_:2},1024),m.prop==="searchBtn"?(s(),C(M,{key:0},[b(B,{type:"primary",onClick:k[0]||(k[0]=S=>t("submit")),disabled:l.value},{default:o(()=>[L("查询")]),_:1},8,["disabled"]),b(B,{disabled:l.value,onClick:i},{default:o(()=>[L("重置")]),_:1},8,["disabled"])],64)):O("",!0),m.prop==="submitBtn"?(s(),C(M,{key:1},[b(B,{type:"primary",onClick:k[1]||(k[1]=S=>t("submit")),disabled:l.value},{default:o(()=>[L("提交")]),_:1},8,["disabled"]),b(B,{disabled:l.value,onClick:k[2]||(k[2]=S=>t("close"))},{default:o(()=>[L("关闭")]),_:1},8,["disabled"])],64)):O("",!0)]),_:2},1032,["label","prop","rules"]))),128)),b(G,null,{default:o(()=>[K(c.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const ne=j(Lt,[["__scopeId","data-v-706fa5e0"]]);async function A(_,r){return await fetch(_,{body:r&&JSON.stringify(r),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(t=>t.json())}const Et=P({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(_,{emit:r}){const t=()=>{r("update:modelValue",!1),r("close")};return(a,p)=>{const e=Ue;return s(),v(e,{"model-value":a.modelValue,title:a.title,width:a.width,draggable:a.draggable,onClosed:t,"close-on-click-modal":!1},Ze({default:o(()=>[K(a.$slots,"default")]),_:2},[a.showFooter?{name:"footer",fn:o(()=>[K(a.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),It=P({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(_,{emit:r}){const t=_,a=T(),p=N({label:"",value:"",type:"type"}),e=N([{label:"类型",prop:"type",type:"select",options:t.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),l=async()=>{var d,f;const{valid:i,data:n}=await((d=a.value)==null?void 0:d.submitForm());i&&((f=a.value)==null||f.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/addOption",n).then(({success:y,result:c})=>{var k;y?(F.success("添加成功"),u(),r("submit")):(F.error(c||"添加失败"),(k=a.value)==null||k.setLoading(!1))}).catch(()=>{var y;F.error("添加失败"),(y=a.value)==null||y.setLoading(!1)}))},u=()=>{var i;(i=a.value)==null||i.resetFields(),r("update:modelValue",!1)};return(i,n)=>{const d=ne,f=Et;return s(),v(f,{title:"新增","model-value":_.modelValue,width:"400px",onClose:u},{default:o(()=>[b(d,{"label-width":"90px",ref_key:"ruleFormRef",ref:a,formData:p,formItem:e,onSubmit:l,onClose:u},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),zt=P({__name:"singleList",setup(_){const r=T([]),t=T(),a=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:f=>n(f)}]}],p=T(!1),e=T(),l=N({type:"",label:""}),u=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],i=N([{label:"类型",prop:"type",type:"select",options:u},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),n=f=>{ue.alert(`确定删除${f.label}`,"删除",{confirmButtonText:"OK",callback:y=>{y==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:f._id}).then(({success:c})=>{c?(F.success("删除成功"),d()):F.error("删除失败")})}})},d=async()=>{var y,c,k;const{data:f}=await((y=e.value)==null?void 0:y.submitForm());r.value=[],(c=t.value)==null||c.setLoading(!0),(k=e.value)==null||k.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:f}).then(w=>{var h,$;r.value=w.result,(h=t.value)==null||h.setLoading(!1),($=e.value)==null||$.setLoading(!1)}).catch(()=>{var w,h;(w=t.value)==null||w.setLoading(!1),(h=e.value)==null||h.setLoading(!1)})};return ae(()=>{d()}),(f,y)=>{const c=Q,k=ne,w=Ve,h=me;return s(),v(h,null,{header:o(()=>[b(k,{inline:"",ref_key:"searchFormRef",ref:e,formData:l,formItem:i,onSubmit:d},{default:o(()=>[b(c,{type:"primary",onClick:y[0]||(y[0]=$=>p.value=!0)},{default:o(()=>[L("新增")]),_:1})]),_:1},8,["formData","formItem"])]),default:o(()=>[b(w,{data:r.value,ref_key:"tableRef",ref:t,header:a},null,8,["data"]),b(It,{onSubmit:d,modelValue:p.value,"onUpdate:modelValue":y[1]||(y[1]=$=>p.value=$),typeOptions:u},null,8,["modelValue"])]),_:1})}}}),Pt=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"})),Mt=P({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(_,{emit:r}){const t=_,a=T(1),p=T(t.defaultPageSize),e=u=>{a.value=1,r("size-change",u)},l=u=>r("current-change",u);return(u,i)=>{const n=Ae;return s(),v(n,{class:"pagination","current-page":a.value,"onUpdate:currentPage":i[0]||(i[0]=d=>a.value=d),"page-size":p.value,"onUpdate:pageSize":i[1]||(i[1]=d=>p.value=d),background:t.background,small:t.small,layout:t.layout,total:t.total,"page-sizes":t.pageSizes,"default-page-size":t.defaultPageSize,onSizeChange:e,onCurrentChange:l},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const Rt=j(Mt,[["__scopeId","data-v-b2e93b00"]]),Ce=async()=>{let _={};const r=sessionStorage.getItem("options");if(r)Object.assign(_,JSON.parse(r));else{const{result:t}=await A("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});t.forEach(a=>{_[a.type]||(_[a.type]=[]),_[a.type].push(a)}),sessionStorage.setItem("options",JSON.stringify(_))}return _},Ot=P({__name:"pageList",setup(_){const r=le(),t=N({page:1,total:0,size:20}),a=T({}),p=T([]),e=T([]),l=T(),u=T(),i=N({type:"",name:""}),n=ee(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:a.value.region},{label:"活动分类",prop:"type",type:"select",options:a.value.type},{prop:"searchBtn"}]),d=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:x=>w(x)},{name:"编辑",onClick:x=>h(x)},{name:"复制",onClick:x=>$(x)},{name:"删除",onClick:x=>g(x)}]}],f=x=>{t.size=x,t.page=1,c()},y=x=>{t.page=x,c()},c=async()=>{var I,z,J;const{data:x}=await((I=u.value)==null?void 0:I.submitForm());(z=l.value)==null||z.setLoading(!0),(J=u.value)==null||J.setLoading(!0),A("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:t.size,page:t.page,search:x}).then(q=>{var B,G;p.value=q.result||[],t.total=q.total||0,(B=l.value)==null||B.setLoading(!1),(G=u.value)==null||G.setLoading(!1)}).catch(()=>{var q,B;p.value=[],t.total=0,(q=l.value)==null||q.setLoading(!1),(B=u.value)==null||B.setLoading(!1)})},k=()=>{r.push("/addForm")},w=x=>{r.push(`/detailInfo/${x._id}`)},h=x=>{r.push(`/editForm/${x._id}`)},$=x=>{r.push(`/copyForm/${x._id}`)},g=x=>{ue.alert(`确定删除${x.name}`,"删除",{confirmButtonText:"OK",callback:I=>{I==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:x._id}).then(({success:z})=>{z?(F.success("删除成功"),c()):F.error("删除失败")})}})},V=x=>{e.value=x},E=()=>{ue.alert(`确定删除${e.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:x=>{x==="confirm"&&A("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:e.value.map(I=>I._id)}).then(({success:I})=>{I?(F.success("删除成功"),c()):F.error("删除失败")})}})};return Se(async()=>{a.value=await Ce(),c()}),(x,I)=>{const z=Q,J=ne,q=je,B=he,G=Ve,se=Rt,m=me;return s(),v(m,null,{header:o(()=>[b(J,{inline:"",ref_key:"searchFormRef",ref:u,formData:i,formItem:n.value,onSubmit:c},{default:o(()=>[b(z,{type:"primary",onClick:k},{default:o(()=>[L("新增")]),_:1}),b(z,{type:"primary",disabled:!e.value.length,onClick:E},{default:o(()=>[L("批量删除")]),_:1},8,["disabled"])]),_:1},8,["formData","formItem"])]),footer:o(()=>[b(se,{ref:"pageModel",total:t.total,"default-page-size":20,onSizeChange:f,onCurrentChange:y},null,8,["total"])]),default:o(()=>[b(G,{onSelectionChange:V,selection:"",data:p.value,ref_key:"tableRef",ref:l,header:d},{region:o(({row:S})=>[L(D(S.region.join()),1)]),type:o(({row:S})=>[b(B,{wrap:""},{default:o(()=>[(s(!0),C(M,null,U(S.type,fe=>(s(),v(q,{key:fe},{default:o(()=>[L(D(fe),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"})),Ft=P({__name:"detailInfo",setup(_){const r=X("replaceTab"),t=X("removeTab"),a=X("reloadTab"),e=pe().params.id,l=T({}),u=T(!0),i=()=>{r({title:"分页列表",path:"/pageList",closable:!0})};return ae(()=>{A("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:e}).then(n=>{l.value=n.result,u.value=!1}).catch(()=>{u.value=!1})}),(n,d)=>{const f=Q,y=we,c=ke,k=ce;return oe((s(),v(c,{column:1,border:""},{extra:o(()=>[b(f,{onClick:i},{default:o(()=>[L("返回列表")]),_:1}),b(f,{onClick:d[0]||(d[0]=w=>Y(t)(n.$route.path))},{default:o(()=>[L("关闭")]),_:1}),b(f,{onClick:d[1]||(d[1]=w=>Y(a)(n.$route.path))},{default:o(()=>[L("刷新页签")]),_:1})]),default:o(()=>[(s(!0),C(M,null,U(Object.keys(l.value),w=>(s(),v(y,{key:w,label:w},{default:o(()=>[L(D(l.value[w]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[k,u.value]])}}}),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),Ut=P({__name:"formPage",setup(_){const r=X("removeTab"),t=X("reloadTab"),a=pe(),p=a.params.id,e=a.params.copyId,l=T(!0),u=T(),i=N({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),n=T({}),d=ee(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:n.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],dateType:"datetimerange",type:"date",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:n.value.type},{label:"资源类型",prop:"resource",type:"radio",options:n.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),f=async()=>{var $;const{valid:w,data:h}=await(($=u.value)==null?void 0:$.submitForm());w&&(p?A("https://5ykenqzacs.hk.aircode.run/editItem",{data:h,id:p,type:"demoList"}).then(({success:g})=>{g?(F.success("修改成功"),y()):F.error("修改失败")}):A("https://5ykenqzacs.hk.aircode.run/addItem",{data:h,type:"demoList"}).then(({success:g})=>{g?(F.success("提交成功"),y()):F.error("提交失败")}))},y=()=>{t("/pageList"),r(a.path)},c=(w,h)=>{var $;($=u.value)==null||$.changeValue(w,h)},k=w=>{A("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:w}).then(({success:h,result:$})=>{h&&$&&Object.keys($).forEach(g=>{["_id","updatedAt","createdAt"].includes(g)||(i[g]=$[g])})})};return Se(async()=>{n.value=await Ce(),(p||e)&&await k(p||e),l.value=!1}),(w,h)=>{const $=Q,g=ie,V=ne,E=Te,x=ce;return s(),v(E,null,{default:o(()=>[oe((s(),v(V,{ref_key:"ruleFormRef",ref:u,formData:i,formItem:d.value,"label-width":"120px",onSubmit:f,onClose:h[2]||(h[2]=I=>Y(r)(w.$route.path))},{name:o(()=>[b($,{type:"primary",onClick:h[0]||(h[0]=I=>c("name","test"))},{default:o(()=>[L("修改活动名称")]),_:1})]),test:o(()=>[b(g,{modelValue:i.test,"onUpdate:modelValue":h[1]||(h[1]=I=>i.test=I)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[x,l.value]])]),_:1})}}}),re=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));rt([ct,it,dt,pt,_t,mt,ft,bt,vt,ht,gt]);const At={echarts:ut},jt=P({__name:"echartModel",props:{options:{}},setup(_,{expose:r}){const t=_,a=T(null),p=et(),e=l=>{var u;(u=p.value)==null||u.resize(l)};return ae(()=>{var l;p.value=At.echarts.init(a.value),(l=p.value)==null||l.setOption(t.options),window.addEventListener("resize",e)}),tt(()=>{window.removeEventListener("resize",e)}),$e(()=>t.options,l=>{var u;(u=p.value)==null||u.setOption(l)},{deep:!0}),r({resize:e}),(l,u)=>(s(),C("div",{class:"chartDomStyle",ref_key:"chartDom",ref:a},null,512))}});const qt=j(jt,[["__scopeId","data-v-32818e74"]]),Nt=P({__name:"echartPage",setup(_){const r=u=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:u}]}),t=T("300px"),a=T(),p=T("bar");function e(u){var i;(i=a.value)==null||i.resize({height:u})}function l(u){p.value=u}return(u,i)=>{const n=qe,d=ve,f=qt;return s(),C(M,null,[b(d,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=y=>t.value=y),onChange:e},{default:o(()=>[b(n,{label:"300px"}),b(n,{label:"500px"})]),_:1},8,["modelValue"]),b(d,{modelValue:p.value,"onUpdate:modelValue":i[1]||(i[1]=y=>p.value=y),onChange:l},{default:o(()=>[b(n,{label:"bar"}),b(n,{label:"line"})]),_:1},8,["modelValue"]),R("div",{class:"chartDom",style:W({height:t.value})},[b(f,{ref_key:"chartDom",ref:a,options:r(p.value)},null,8,["options"])],4)],64)}}});const Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),Wt={class:"version"},Kt=P({__name:"loginPage",setup(_){const r=le(),t=T({username:"",password:""}),a=X("log"),p=ee(()=>document.querySelector('meta[name="version"]')),e=ee(()=>document.querySelector('meta[name="buildTime"]')),l=T(!1),u=()=>{l.value=!0,setTimeout(()=>{l.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",t.value.username),r.push("/home")},1e3)};return ae(()=>{var i,n;a("version",(i=p.value)==null?void 0:i.content),a("buildTime",(n=e.value)==null?void 0:n.content)}),(i,n)=>{const d=ie,f=ge,y=Q,c=ye,k=Ne,w=me;return s(),v(w,null,{footer:o(()=>{var h,$;return[R("div",Wt,"vue3-web-demo "+D((h=p.value)==null?void 0:h.content)+" "+D(($=e.value)==null?void 0:$.content),1)]}),default:o(()=>[b(k,{class:"box-card",header:i.$translate("home.title")},{default:o(()=>[b(c,{"label-width":"80px",model:t.value},{default:o(()=>[b(f,{label:"帐号"},{default:o(()=>[b(d,{modelValue:t.value.username,"onUpdate:modelValue":n[0]||(n[0]=h=>t.value.username=h),maxLength:"10"},null,8,["modelValue"])]),_:1}),b(f,{label:"密码"},{default:o(()=>[b(d,{modelValue:t.value.password,"onUpdate:modelValue":n[1]||(n[1]=h=>t.value.password=h),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),b(f,null,{default:o(()=>[b(y,{type:"primary",loading:l.value,disabled:!t.value.username||!t.value.password,onClick:u},{default:o(()=>[L("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["header"])]),_:1})}}});const Gt=j(Kt,[["__scopeId","data-v-5a09a795"]]),So=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),Ht=["onContextmenu"],Qt=P({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},emits:["reloadTab","delCache"],setup(_,{expose:r,emit:t}){const a=_,p=le(),e=T([a.homeTab]),l=T(e.value[0].path),u=g=>{e.value.find(E=>E.path===g.path)||e.value.push(g),l.value=g.path},i=g=>{const V=e.value;if(l.value===g){const E=V.findIndex(I=>I.path===g),x=V[E+1]||V[E-1]||V[0];l.value=x.path}t("delCache",g),e.value=e.value.filter(E=>E.path!==g)},n=T(!1),d=T(""),f=T(),y={mounted(g,V){g.handler=function(E){g.contains(E.target)||V.value(E)},document.addEventListener("click",g.handler,!0)},unmounted(g){document.removeEventListener("click",g.handler)}},c=(g,V)=>{g.preventDefault(),f.value=g.currentTarget,n.value=!0,d.value=V},k=()=>{h(),e.value=e.value.filter(g=>g.closable===!1),l.value=e.value[0].path},w=()=>{h(),e.value=e.value.filter(g=>d.value===g.path||g.closable===!1),l.value=d.value},h=()=>{n.value=!1},$=g=>{let V=e.value.find(E=>E.path===g);V&&p.currentRoute.value.path!==V.path&&p.push(V.path)};return r({addTab:u,removeTab:i}),$e(()=>p.currentRoute.value.path,g=>{const{title:V,closable:E=!0}=p.currentRoute.value.meta;u({title:V,closable:E,path:g})}),(g,V)=>{const E=Je,x=We,I=Ke;return s(),v(I,{modelValue:l.value,"onUpdate:modelValue":V[1]||(V[1]=z=>l.value=z),type:"card",class:"tabMenu",onTabRemove:i,onTabChange:$},{default:o(()=>[(s(!0),C(M,null,U(e.value,z=>(s(),v(E,{key:z.path,name:z.path,label:z.title,closable:z.closable!==!1},{label:o(()=>[oe((s(),C("div",{onContextmenu:J=>c(J,z.path)},[L(D(z.title),1)],40,Ht)),[[y,h]])]),_:2},1032,["name","label","closable"]))),128)),b(x,{ref:"tooltipRef","virtual-ref":f.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:n.value},{default:o(()=>[R("ul",null,[R("li",{onClick:V[0]||(V[0]=z=>t("reloadTab",d.value))},"刷新页面"),R("li",{onClick:w},"关闭其他"),R("li",{onClick:k},"关闭所有")])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const Xt=j(Qt,[["__scopeId","data-v-acc5ce9e"]]),Yt=P({__name:"subMenu",props:["i"],emits:["addTab"],setup(_,{emit:r}){return(t,a)=>{const p=de,e=xe,l=_e("subMenu",!0),u=Ge;return s(),v(u,{index:_.i.title+_.i.path},{title:o(()=>[_.i.icon?(s(),v(p,{key:0},{default:o(()=>[(s(),v(te(_.i.icon)))]),_:1})):O("",!0),R("span",null,D(_.i.title),1)]),default:o(()=>[(s(!0),C(M,null,U(_.i.children,i=>(s(),C(M,{key:i.path},[!i.children||!i.children.length?(s(),v(e,{key:0,onClick:n=>r("addTab",i),index:i.path},{default:o(()=>[L(D(i.title),1)]),_:2},1032,["onClick","index"])):(s(),v(l,{key:1,i,onAddTab:a[0]||(a[0]=n=>r("addTab",n))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),Zt=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",children:[{title:"表单",path:"/addForm"},{title:"分页列表",path:"/pageList"}]},{title:"echart",path:"/echartPage"}]}],eo=P({__name:"sideBar",emits:["addTab"],setup(_,{emit:r}){return(t,a)=>{const p=de,e=xe,l=Yt,u=Te,i=He;return s(),v(i,{class:"side-bar"},{default:o(()=>[b(u,null,{default:o(()=>[(s(!0),C(M,null,U(Y(Zt),n=>(s(),C(M,{key:n.title},[!n.children||!n.children.length?(s(),v(e,{key:0,index:n.title+n.path,onClick:d=>r("addTab",n)},{default:o(()=>[n.icon?(s(),v(p,{key:0},{default:o(()=>[(s(),v(te(n.icon)))]),_:2},1024)):O("",!0),R("span",null,D(n.title),1)]),_:2},1032,["index","onClick"])):(s(),v(l,{key:1,i:n,onAddTab:a[0]||(a[0]=d=>r("addTab",d))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const to=j(eo,[["__scopeId","data-v-9c62f71b"]]),oo=""+new URL("../logo.svg",import.meta.url).href,Le=_=>(ot("data-v-0c6f20b0"),_=_(),at(),_),ao={class:"top-bar"},lo=Le(()=>R("img",{src:oo,class:"top-bar-icon",alt:""},null,-1)),no=Le(()=>R("span",{class:"top-bar-text"},"vue3+element-plus",-1)),so=P({__name:"topBar",setup(_){const r=le(),t=sessionStorage.getItem("username"),a=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),r.push("/login")};return(p,e)=>{const l=Qe,u=_e("SwitchButton"),i=de,n=Xe,d=Ye;return s(),C("div",ao,[b(d,{gutter:20},{default:o(()=>[b(l,{span:12},{default:o(()=>[lo,no]),_:1}),b(l,{span:4,offset:8,class:"top-bar-right"},{default:o(()=>[b(n,{underline:!1,onClick:a},{default:o(()=>[L(D(Y(t)),1),b(i,{class:"el-icon--right"},{default:o(()=>[b(u)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const ro=j(so,[["__scopeId","data-v-0c6f20b0"]]),uo={class:"home-waper"},co={class:"home-waper-top"},io={class:"home-waper-body"},po={class:"home-waper-content"},_o={class:"home-waper-view"},mo=P({__name:"waper",setup(_){const r=T(),t=T(!0),a=T(),p=pe();function e(d){var f;(f=a==null?void 0:a.value.$.__v_cache)==null||f.delete(d)}function l(d){e(d),t.value=!1,nt(()=>{t.value=!0})}function u(d){var f;(f=r.value)==null||f.addTab(d)}function i(d){var f;(f=r.value)==null||f.removeTab(d)}function n(d){var f,y;(f=r.value)==null||f.removeTab(p.path),(y=r.value)==null||y.addTab(d)}return Z("addTab",u),Z("removeTab",i),Z("reloadTab",l),Z("replaceTab",n),(d,f)=>{const y=ro,c=to,k=Xt,w=_e("router-view");return s(),C("div",uo,[R("div",co,[b(y)]),R("div",io,[b(c,{onAddTab:u}),R("div",po,[b(k,{ref_key:"tabMenuRef",ref:r,onDelCache:e,onReloadTab:l},null,512),R("div",_o,[b(w,null,{default:o(({Component:h,route:$})=>[(s(),v(lt,{ref_key:"tabTool",ref:a},[t.value&&$.meta.keepAlive!==!1?(s(),v(te(h),{key:$.fullPath})):O("",!0)],1536)),t.value&&$.meta.keepAlive===!1?(s(),v(te(h),{key:$.fullPath})):O("",!0)]),_:1})])])])])}}});const fo=j(mo,[["__scopeId","data-v-b0115f11"]]),$o=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),bo=()=>st().proxy,vo=P({__name:"home",setup(_){const r=bo(),t=T(r.$translate("home.title")),a=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(p,e)=>{const l=we,u=ke;return s(),v(u,{title:t.value,column:1,border:""},{default:o(()=>[(s(),C(M,null,U(a,i=>b(l,{key:i.label,label:i.label},{default:o(()=>[L(D(i.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"])}}}),Vo=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),ho={};function go(_,r){return s(),C("div",null,"404")}const yo=j(ho,[["render",go]]),Co=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));export{H as _,Co as a,Vo as h,So as l,xo as r,$o as w};
