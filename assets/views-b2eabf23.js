import{E as De,a as X,b as Fe,v as de,c as pe,d as Ae,e as Be,f as Ue,g as je,h as qe,i as Ne,j as We,k as Je,l as ye,m as ke,n as we,o as Te,p as Ke,q as D,r as ie,s as Ge,t as He,u as Se,w as xe,x as $e,y as Qe,z as Ve,A as Le,B as Xe,C as Ye,D as _e,F as Ce,G as Ze,H as et,I as tt,J as ot,K as at}from"./element-83ff31f0.js";import{cS as lt,bp as k,o as s,c as L,bW as M,bA as W,bz as z,b$ as oe,bQ as g,bP as n,bV as R,bK as _,bf as P,ci as F,bT as C,bU as O,bF as J,bS as H,cT as ae,bw as me,cA as nt,bl as le,cU as ne,bh as Ee,bo as Z,bk as K,bt as st,bD as rt,bj as Ie,bR as ee,cB as fe,cV as ut,cW as ct,bx as te,cX as it,bL as dt,bi as pt}from"./chunks-f038bb17.js";import{u as _t,e as mt,i as ft,a as bt,b as ht,c as vt,d as gt,f as yt,g as kt,h as wt,j as Tt,k as St,l as xt}from"./echarts-5dec0f09.js";import{m as ue}from"./docs-d5e45c9a.js";const $t="modulepreload",Vt=function(r,l){return new URL(r,l).href},ge={},G=function(l,a,t){if(!a||a.length===0)return l();const u=document.getElementsByTagName("link");return Promise.all(a.map(e=>{if(e=Vt(e,t),e in ge)return;ge[e]=!0;const o=e.endsWith(".css"),p=o?'[rel="stylesheet"]':"";if(!!t)for(let m=u.length-1;m>=0;m--){const v=u[m];if(v.href===e&&(!o||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${p}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":$t,o||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),o)return new Promise((m,v)=>{i.addEventListener("load",m),i.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>l()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},Ro=[{path:"/singleList",name:"singleList",component:()=>G(()=>Promise.resolve().then(()=>Bt),void 0,import.meta.url),meta:{title:"简单列表",auth:"singleList"}},{path:"/pageList",name:"pageList",component:()=>G(()=>Promise.resolve().then(()=>Nt),void 0,import.meta.url),meta:{title:"分页列表",auth:"pageList"}},{path:"/detailInfo/:id",name:"detailInfo",component:()=>G(()=>Promise.resolve().then(()=>Jt),void 0,import.meta.url),meta:{title:"详情"}},{path:"/addForm",name:"addForm",component:()=>G(()=>Promise.resolve().then(()=>ce),void 0,import.meta.url),meta:{title:"新增"}},{path:"/editForm/:id",name:"editForm",component:()=>G(()=>Promise.resolve().then(()=>ce),void 0,import.meta.url),meta:{title:"编辑"}},{path:"/copyForm/:copyId",name:"copyForm",component:()=>G(()=>Promise.resolve().then(()=>ce),void 0,import.meta.url),meta:{title:"复制"}},{path:"/echartPage",name:"echartPage",component:()=>G(()=>Promise.resolve().then(()=>Yt),void 0,import.meta.url),meta:{title:"echart",keepAlive:!1}},{path:"/docs",name:"docs",component:()=>G(()=>Promise.resolve().then(()=>to),void 0,import.meta.url),meta:{title:"docs"}}];async function B(r,l){return await fetch(r,{body:l&&JSON.stringify(l),method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}).then(a=>a.json()).catch(a=>{})}const ze=async()=>{let r={};const l=sessionStorage.getItem("options");if(l)Object.assign(r,JSON.parse(l));else{const{result:a}=await B("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options"});a.length&&(a.forEach(t=>{r[t.type]||(r[t.type]=[]),r[t.type].push(t)}),sessionStorage.setItem("options",JSON.stringify(r)))}return r},Oo=async r=>{const{result:[l]}=await B("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"auth",search:{path:r}});return(l==null?void 0:l.auth)||""},Lt=async r=>{const{result:l}=await B("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:r});return l},be=lt("auth",()=>{const r=k({});function l(u,e){r.value[u]=e}function a(u){delete r.value[u]}function t(u,e){var o;return!!(u&&((o=r.value[u])!=null&&o.includes(e)))}return{authModel:r,setAuth:l,removeAuth:a,checkAuth:t}});const q=(r,l)=>{const a=r.__vccOpts||r;for(const[t,u]of l)a[t]=u;return a},Ct={},Et={class:"flex"},It={class:"flex-header"},zt={class:"flex-content"},Pt={class:"flex-footer"};function Mt(r,l){return s(),L("div",Et,[M("div",It,[W(r.$slots,"header",{},void 0,!0)]),M("div",zt,[W(r.$slots,"default",{},void 0,!0)]),M("div",Pt,[W(r.$slots,"footer",{},void 0,!0)])])}const he=q(Ct,[["render",Mt],["__scopeId","data-v-7b6cd6f1"]]),Rt=["textContent"],Pe=z({__name:"tableModel",props:{data:Array,header:{type:Array,required:!0},selection:{type:Boolean}},emits:["selection-change"],setup(r,{expose:l,emit:a}){const t=k(!1),u=k();function e(p){t.value=p}function o(p){a("selection-change",p)}return l({setLoading:e}),(p,c)=>{const i=De,m=X,v=Fe,w=de;return oe((s(),g(v,{onSelectionChange:o,ref_key:"tableModelRef",ref:u,data:r.data,height:"100%",border:""},{default:n(()=>[r.selection?(s(),g(i,{key:0,type:"selection",width:"55"})):R("",!0),_(i,{type:"index",width:"50"}),(s(!0),L(P,null,F(r.header,d=>(s(),g(i,{key:d.prop,prop:d.prop,width:d.width,label:d.label,fixed:d.fixed,sortable:d.sortable},{default:n(({row:h})=>[W(p.$slots,d.prop,{row:h},()=>{var V;return[d.prop==="action"?(s(!0),L(P,{key:0},F((V=d.options)==null?void 0:V.filter(y=>y.auth!==!1),y=>(s(),g(m,{key:y.name,link:"",type:"primary",onClick:S=>y.onClick(h)},{default:n(()=>[C(O(y.name),1)]),_:2},1032,["onClick"]))),128)):(s(),L("div",{key:1,textContent:O(h[d.prop])},null,8,Rt))]})]),_:2},1032,["prop","width","label","fixed","sortable"]))),128))]),_:3},8,["data"])),[[w,t.value]])}}}),Ot=z({__name:"formModel",props:{formData:{default:void 0},formItem:{default:void 0},itemStyle:{default:{width:"220px"}},inline:{type:Boolean,default:!1},size:{default:""},labelWidth:{default:""}},emits:["submit","close"],setup(r,{expose:l,emit:a}){const t=r,u=k(),e=J(t.formData),o=k(!1),p=async()=>{var h;let d=J({valid:!1,data:e,fields:null});return await((h=u.value)==null?void 0:h.validate((V,y)=>{V?d.valid=!0:(console.log("error submit!",y),d.fields=y)})),d},c=()=>{i(),a("submit")},i=()=>{var d;w(!1),(d=u.value)==null||d.resetFields()},m=d=>{var h;(h=u.value)==null||h.validateField(d)},v=(d,h)=>{e[d]=h},w=d=>{o.value=d};return l({submitForm:p,resetFields:i,validateField:m,changeValue:v,setLoading:w}),(d,h)=>{const V=pe,y=Ae,S=Be,b=Ue,$=je,E=qe,N=Ne,T=We,I=Je,U=ye,Q=ke,A=X,j=we,Y=Te;return s(),g(Y,{class:"formModel",size:d.size,inline:d.inline,ref_key:"ruleFormRef",ref:u,model:e,"label-width":d.labelWidth},{default:n(()=>[(s(!0),L(P,null,F(d.formItem,f=>(s(),g(j,{key:f.prop,label:f.label,prop:f.prop,rules:f.rules},{default:n(()=>[_(Q,{wrap:""},{default:n(()=>[f.type==="input"?(s(),g(V,{key:0,style:H(f.style||d.itemStyle),maxlength:f.maxlength,"show-word-limit":"",modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x,clearable:""},null,8,["style","maxlength","modelValue","onUpdate:modelValue"])):R("",!0),f.type==="input-number"?(s(),g(y,{key:1,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x,min:f.min,max:f.max},null,8,["style","modelValue","onUpdate:modelValue","min","max"])):R("",!0),f.type==="select"?(s(),g(b,{key:2,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x,placeholder:"请选择",clearable:"",filterable:"",multiple:f.multiple,"collapse-tags":"","collapse-tags-tooltip":""},{default:n(()=>[(s(!0),L(P,null,F(f.options,x=>(s(),g(S,{label:x.label,value:x.value},null,8,["label","value"]))),256))]),_:2},1032,["style","modelValue","onUpdate:modelValue","multiple"])):R("",!0),f.type==="date"?(s(),g($,{key:3,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x,type:f.dateType,format:f.format,"value-format":f.format,"default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)],clearable:""},null,8,["style","modelValue","onUpdate:modelValue","type","format","value-format","default-time"])):R("",!0),f.type==="switch"?(s(),g(E,{key:4,modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),f.type==="checkbox"?(s(),g(T,{key:5,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x},{default:n(()=>[(s(!0),L(P,null,F(f.options,x=>(s(),g(N,{key:x.label,label:x.label,name:f.prop},{default:n(()=>[C(O(x.name||x.label),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):R("",!0),f.type==="radio"?(s(),g(U,{key:6,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x},{default:n(()=>[(s(!0),L(P,null,F(f.options,x=>(s(),g(I,{key:x.label,label:x.label},{default:n(()=>[C(O(x.name||x.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["style","modelValue","onUpdate:modelValue"])):R("",!0),f.type==="textarea"?(s(),g(V,{key:7,style:H(f.style||d.itemStyle),modelValue:e[f.prop],"onUpdate:modelValue":x=>e[f.prop]=x,type:"textarea",rows:f.row,maxlength:f.maxlength,"show-word-limit":""},null,8,["style","modelValue","onUpdate:modelValue","rows","maxlength"])):R("",!0),W(d.$slots,f.prop,{item:f},void 0,!0)]),_:2},1024),f.prop==="searchBtn"?(s(),L(P,{key:0},[_(A,{type:"primary",onClick:h[0]||(h[0]=x=>a("submit")),disabled:o.value},{default:n(()=>[C("查询")]),_:1},8,["disabled"]),_(A,{disabled:o.value,onClick:c},{default:n(()=>[C("重置")]),_:1},8,["disabled"])],64)):R("",!0),f.prop==="submitBtn"?(s(),L(P,{key:1},[_(A,{type:"primary",onClick:h[1]||(h[1]=x=>a("submit")),disabled:o.value},{default:n(()=>[C("提交")]),_:1},8,["disabled"]),_(A,{disabled:o.value,onClick:h[2]||(h[2]=x=>a("close"))},{default:n(()=>[C("关闭")]),_:1},8,["disabled"])],64)):R("",!0)]),_:2},1032,["label","prop","rules"]))),128)),_(j,null,{default:n(()=>[W(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["size","inline","model","label-width"])}}});const se=q(Ot,[["__scopeId","data-v-2fefee11"]]),Me=z({__name:"auth",props:{type:{}},setup(r){const l=r,a=ae(),{checkAuth:t}=be(),u=k(!1);return me(()=>{var o;const e=((o=a.meta)==null?void 0:o.auth)||"";u.value=!!e&&t(e,l.type)}),(e,o)=>u.value?W(e.$slots,"default",{key:0}):R("",!0)}}),Dt=z({__name:"dialogModel",props:{modelValue:{type:Boolean,default:!1},title:{default:"标题"},width:{default:"600px"},showFooter:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0}},emits:["update:modelValue","close"],setup(r,{emit:l}){const a=()=>{l("update:modelValue",!1),l("close")};return(t,u)=>{const e=Ke;return s(),g(e,{"model-value":t.modelValue,title:t.title,width:t.width,draggable:t.draggable,onClosed:a,"close-on-click-modal":!1},nt({default:n(()=>[W(t.$slots,"default")]),_:2},[t.showFooter?{name:"footer",fn:n(()=>[W(t.$slots,"footer")]),key:"0"}:void 0]),1032,["model-value","title","width","draggable"])}}}),Ft=z({__name:"infoDialog",props:["modelValue","typeOptions"],emits:["update:modelValue","submit"],setup(r,{emit:l}){const a=r,t=k(),u=J({label:"",value:"",type:"type"}),e=J([{label:"类型",prop:"type",type:"select",options:a.typeOptions},{label:"名称",prop:"label",rules:[{required:!0,message:"请输入名称",trigger:"blur"}],type:"input"},{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:"blur"}],type:"input"},{prop:"submitBtn"}]),o=async()=>{var m,v;const{valid:c,data:i}=await((m=t.value)==null?void 0:m.submitForm());c&&((v=t.value)==null||v.setLoading(!0),B("https://5ykenqzacs.hk.aircode.run/addOption",i).then(({success:w,result:d})=>{var h;w?(D.success("添加成功"),p(),l("submit")):(D.error(d||"添加失败"),(h=t.value)==null||h.setLoading(!1))}).catch(()=>{var w;D.error("添加失败"),(w=t.value)==null||w.setLoading(!1)}))},p=()=>{var c;(c=t.value)==null||c.resetFields(),l("update:modelValue",!1)};return(c,i)=>{const m=se,v=Dt;return s(),g(v,{title:"新增","model-value":r.modelValue,width:"400px",onClose:p},{default:n(()=>[_(m,{"label-width":"90px",ref_key:"ruleFormRef",ref:t,formData:u,formItem:e,onSubmit:o,onClose:p},null,8,["formData","formItem"])]),_:1},8,["model-value"])}}}),At=z({__name:"singleList",setup(r){const{checkAuth:l}=be(),a=k([]),t=k(),u=[{prop:"type",label:"类型"},{prop:"label",label:"名称"},{prop:"value",label:"值"},{prop:"createdAt",label:"创建时间",sortable:!0},{prop:"action",label:"操作",width:"90",options:[{name:"删除",onClick:w=>m(w),auth:l("singleList","del")}]}],e=k(!1),o=k(),p=J({type:"",label:""}),c=[{label:"活动类型",value:"type"},{label:"活动地区",value:"region"},{label:"活动资源",value:"resource"}],i=J([{label:"类型",prop:"type",type:"select",options:c},{label:"名称",prop:"label",type:"input"},{prop:"searchBtn"}]),m=w=>{ie.alert(`确定删除${w.label}`,"删除",{confirmButtonText:"OK",callback:d=>{d==="confirm"&&B("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"options",id:w._id}).then(({success:h})=>{h?(D.success("删除成功"),v()):D.error("删除失败")})}})},v=async()=>{var d,h,V;const{data:w}=await((d=o.value)==null?void 0:d.submitForm());a.value=[],(h=t.value)==null||h.setLoading(!0),(V=o.value)==null||V.setLoading(!0),B("https://5ykenqzacs.hk.aircode.run/getAllList",{type:"options",search:w}).then(y=>{var S,b;a.value=y.result,(S=t.value)==null||S.setLoading(!1),(b=o.value)==null||b.setLoading(!1)}).catch(()=>{var y,S;(y=t.value)==null||y.setLoading(!1),(S=o.value)==null||S.setLoading(!1)})};return le(()=>{v()}),(w,d)=>{const h=X,V=Me,y=se,S=Pe,b=he;return s(),g(b,null,{header:n(()=>[_(y,{inline:"",ref_key:"searchFormRef",ref:o,formData:p,formItem:i,onSubmit:v},{default:n(()=>[_(V,{type:"add"},{default:n(()=>[_(h,{type:"primary",onClick:d[0]||(d[0]=$=>e.value=!0)},{default:n(()=>[C("新增")]),_:1})]),_:1})]),_:1},8,["formData","formItem"])]),default:n(()=>[_(S,{data:a.value,ref_key:"tableRef",ref:t,header:u},null,8,["data"]),_(Ft,{onSubmit:v,modelValue:e.value,"onUpdate:modelValue":d[1]||(d[1]=$=>e.value=$),typeOptions:c},null,8,["modelValue"])]),_:1})}}}),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),Ut=z({__name:"pageModel",props:{total:{default:0},pageSizes:{default:()=>[10,20,50,100]},layout:{default:"total, sizes, ->, prev, pager, next"},small:{type:Boolean,default:!0},background:{type:Boolean,default:!0},defaultPageSize:{default:20}},emits:["size-change","current-change"],setup(r,{emit:l}){const a=r,t=k(1),u=k(a.defaultPageSize),e=p=>{t.value=1,l("size-change",p)},o=p=>l("current-change",p);return(p,c)=>{const i=Ge;return s(),g(i,{class:"pagination","current-page":t.value,"onUpdate:currentPage":c[0]||(c[0]=m=>t.value=m),"page-size":u.value,"onUpdate:pageSize":c[1]||(c[1]=m=>u.value=m),background:a.background,small:a.small,layout:a.layout,total:a.total,"page-sizes":a.pageSizes,"default-page-size":a.defaultPageSize,onSizeChange:e,onCurrentChange:o},null,8,["current-page","page-size","background","small","layout","total","page-sizes","default-page-size"])}}});const jt=q(Ut,[["__scopeId","data-v-b2e93b00"]]),qt=z({__name:"pageList",setup(r){const{checkAuth:l}=be(),a=ne(),t=J({page:1,total:0,size:20}),u=k({}),e=k([]),o=k([]),p=k(),c=k(),i=J({type:"",name:""}),m=Ee(()=>[{label:"名称",prop:"name",type:"input"},{label:"活动地区",prop:"region",type:"select",options:u.value.region},{label:"活动分类",prop:"type",type:"select",options:u.value.type},{prop:"searchBtn"}]),v=[{prop:"name",label:"活动名称"},{prop:"region",label:"活动地区"},{prop:"type",label:"活动分类"},{prop:"createdAt",label:"创建时间",sortable:!0,width:"240"},{prop:"updatedAt",label:"更新时间",sortable:!0,width:"240"},{prop:"action",label:"操作",width:"220",options:[{name:"查看",onClick:T=>y(T),auth:l("pageList","view")},{name:"编辑",onClick:T=>S(T),auth:l("pageList","edit")},{name:"复制",onClick:T=>b(T),auth:l("pageList","copy")},{name:"删除",onClick:T=>$(T),auth:l("pageList","del")}]}],w=T=>{t.size=T,t.page=1,h()},d=T=>{t.page=T,h()},h=async()=>{var I,U,Q;const{data:T}=await((I=c.value)==null?void 0:I.submitForm());(U=p.value)==null||U.setLoading(!0),(Q=c.value)==null||Q.setLoading(!0),B("https://5ykenqzacs.hk.aircode.run/getList",{type:"demoList",size:t.size,page:t.page,search:T}).then(A=>{var j,Y;e.value=A.result||[],t.total=A.total||0,(j=p.value)==null||j.setLoading(!1),(Y=c.value)==null||Y.setLoading(!1)}).catch(()=>{var A,j;e.value=[],t.total=0,(A=p.value)==null||A.setLoading(!1),(j=c.value)==null||j.setLoading(!1)})},V=()=>{a.push("/addForm")},y=T=>{a.push(`/detailInfo/${T._id}`)},S=T=>{a.push(`/editForm/${T._id}`)},b=T=>{a.push(`/copyForm/${T._id}`)},$=T=>{ie.alert(`确定删除${T.name}`,"删除",{confirmButtonText:"OK",callback:I=>{I==="confirm"&&B("https://5ykenqzacs.hk.aircode.run/removeItem",{type:"demoList",id:T._id}).then(({success:U})=>{U?(D.success("删除成功"),h()):D.error("删除失败")})}})},E=T=>{o.value=T},N=()=>{ie.alert(`确定删除${o.value.length}条记录`,"删除",{confirmButtonText:"OK",callback:T=>{T==="confirm"&&B("https://5ykenqzacs.hk.aircode.run/removeItems",{type:"demoList",ids:o.value.map(I=>I._id)}).then(({success:I})=>{I?(D.success("删除成功"),h()):D.error("删除失败")})}})};return me(async()=>{u.value=await ze(),h()}),(T,I)=>{const U=X,Q=Me,A=se,j=He,Y=ke,f=Pe,x=jt,Oe=he;return s(),g(Oe,null,{header:n(()=>[_(A,{inline:"",ref_key:"searchFormRef",ref:c,formData:i,formItem:m.value,onSubmit:h},{default:n(()=>[_(Q,{type:"add"},{default:n(()=>[_(U,{type:"primary",onClick:V},{default:n(()=>[C("新增")]),_:1})]),_:1}),_(Q,{type:"del"},{default:n(()=>[_(U,{type:"primary",disabled:!o.value.length,onClick:N},{default:n(()=>[C("批量删除")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["formData","formItem"])]),footer:n(()=>[_(x,{ref:"pageModel",total:t.total,"default-page-size":20,onSizeChange:w,onCurrentChange:d},null,8,["total"])]),default:n(()=>[_(f,{onSelectionChange:E,selection:"",data:e.value,ref_key:"tableRef",ref:p,header:v},{region:n(({row:re})=>[C(O(re.region.join()),1)]),type:n(({row:re})=>[_(Y,{wrap:""},{default:n(()=>[(s(!0),L(P,null,F(re.type,ve=>(s(),g(j,{key:ve},{default:n(()=>[C(O(ve),1)]),_:2},1024))),128))]),_:2},1024)]),_:1},8,["data"])]),_:1})}}}),Nt=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"})),Wt=z({__name:"detailInfo",setup(r){const l=Z("replaceTab"),a=Z("removeTab"),t=Z("reloadTab"),u=ae(),e=k({}),o=k(!0),p=()=>{l({title:"分页列表",path:"/pageList",closable:!0})};return le(async()=>{const c=await Lt(u.params.id);e.value=c,o.value=!1}),(c,i)=>{const m=X,v=xe,w=Se,d=de;return oe((s(),g(w,{column:1,border:""},{extra:n(()=>[_(m,{onClick:p},{default:n(()=>[C("返回列表")]),_:1}),_(m,{onClick:i[0]||(i[0]=h=>K(a)(c.$route.path))},{default:n(()=>[C("关闭")]),_:1}),_(m,{onClick:i[1]||(i[1]=h=>K(t)(c.$route.path))},{default:n(()=>[C("刷新页签")]),_:1})]),default:n(()=>[(s(!0),L(P,null,F(Object.keys(e.value),h=>(s(),g(v,{key:h,label:h},{default:n(()=>[C(O(e.value[h]),1)]),_:2},1032,["label"]))),128))]),_:1})),[[d,o.value]])}}}),Jt=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"})),Kt=z({__name:"formPage",setup(r){const l=Z("removeTab"),a=Z("reloadTab"),t=ae(),u=t.params.id,e=t.params.copyId,o=k(!0),p=k(),c=J({name:"",num:1,region:["上海"],datetime:[],delivery:!1,type:[],resource:"实物",desc:"呵呵",test:"abc"}),i=k({}),m=Ee(()=>[{label:"活动名称",prop:"name",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:"input"},{label:"数量(1-10)",prop:"num",rules:[{required:!0,message:"请输入数量",trigger:"blur"}],min:1,max:10,type:"input-number"},{label:"活动地区",prop:"region",rules:[{required:!0,message:"请选择地区",trigger:"change"}],type:"select",options:i.value.region,multiple:!0},{label:"活动时间",prop:"datetime",rules:[{required:!0,message:"请选择活动时间",trigger:"change"}],dateType:"datetimerange",type:"date",style:{width:"500px"}},{label:"快递",prop:"delivery",type:"switch"},{label:"活动分类",prop:"type",type:"checkbox",rules:[{type:"array",required:!0,message:"请选择至少1个",trigger:"change"}],options:i.value.type},{label:"资源类型",prop:"resource",type:"radio",options:i.value.resource},{label:"说明",prop:"desc",type:"textarea",maxlength:50,rules:[{required:!0,message:"请输入说明",trigger:"blur"}],style:{width:"500px"},row:3},{label:"说明",prop:"test"},{prop:"submitBtn"}]),v=async()=>{var S;const{valid:V,data:y}=await((S=p.value)==null?void 0:S.submitForm());V&&(u?B("https://5ykenqzacs.hk.aircode.run/editItem",{data:y,id:u,type:"demoList"}).then(({success:b})=>{b?(D.success("修改成功"),w()):D.error("修改失败")}):B("https://5ykenqzacs.hk.aircode.run/addItem",{data:y,type:"demoList"}).then(({success:b})=>{b?(D.success("提交成功"),w()):D.error("提交失败")}))},w=()=>{a("/pageList"),l(t.path)},d=(V,y)=>{var S;(S=p.value)==null||S.changeValue(V,y)},h=V=>{B("https://5ykenqzacs.hk.aircode.run/getItem",{type:"demoList",id:V}).then(({success:y,result:S})=>{y&&S&&Object.keys(S).forEach(b=>{["_id","updatedAt","createdAt"].includes(b)||(c[b]=S[b])})})};return me(async()=>{i.value=await ze(),(u||e)&&await h(u||e),o.value=!1}),(V,y)=>{const S=X,b=pe,$=se,E=$e,N=de;return s(),g(E,null,{default:n(()=>[oe((s(),g($,{ref_key:"ruleFormRef",ref:p,formData:c,formItem:m.value,"label-width":"120px",onSubmit:v,onClose:y[2]||(y[2]=T=>K(l)(V.$route.path))},{name:n(()=>[_(S,{type:"primary",onClick:y[0]||(y[0]=T=>d("name","test"))},{default:n(()=>[C("修改活动名称")]),_:1})]),test:n(()=>[_(b,{modelValue:c.test,"onUpdate:modelValue":y[1]||(y[1]=T=>c.test=T)},null,8,["modelValue"])]),_:1},8,["formData","formItem"])),[[N,o.value]])]),_:1})}}}),ce=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));_t([ft,bt,ht,vt,gt,yt,kt,wt,Tt,St,xt]);const Gt={echarts:mt},Ht=z({__name:"echartModel",props:{options:{}},setup(r,{expose:l}){const a=r,t=k(null),u=st(),e=o=>{var p;(p=u.value)==null||p.resize(o)};return le(()=>{var o;u.value=Gt.echarts.init(t.value),(o=u.value)==null||o.setOption(a.options),window.addEventListener("resize",e)}),rt(()=>{window.removeEventListener("resize",e)}),Ie(()=>a.options,o=>{var p;(p=u.value)==null||p.setOption(o)},{deep:!0}),l({resize:e}),(o,p)=>(s(),L("div",{class:"chartDomStyle",ref_key:"chartDom",ref:t},null,512))}});const Qt=q(Ht,[["__scopeId","data-v-32818e74"]]),Xt=z({__name:"echartPage",setup(r){const l=p=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:p}]}),a=k("300px"),t=k(),u=k("bar");function e(p){var c;(c=t.value)==null||c.resize({height:p})}function o(p){u.value=p}return(p,c)=>{const i=Qe,m=ye,v=Qt;return s(),L(P,null,[_(m,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=w=>a.value=w),onChange:e},{default:n(()=>[_(i,{label:"300px"}),_(i,{label:"500px"})]),_:1},8,["modelValue"]),_(m,{modelValue:u.value,"onUpdate:modelValue":c[1]||(c[1]=w=>u.value=w),onChange:o},{default:n(()=>[_(i,{label:"bar"}),_(i,{label:"line"})]),_:1},8,["modelValue"]),M("div",{class:"chartDom",style:H({height:a.value})},[_(v,{ref_key:"chartDom",ref:t,options:l(u.value)},null,8,["options"])],4)],64)}}});const Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Zt={class:"markdown-warper"},eo=z({__name:"md",setup(r){const l=k(ue.list[0]);return(a,t)=>{const u=Le,e=Ve;return s(),L("div",Zt,[_(e,{type:"border-card",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value=o)},{default:n(()=>[(s(!0),L(P,null,F(K(ue).list,o=>(s(),g(u,{name:o,key:o,label:o},{default:n(()=>[(s(),g(ee(K(ue).modules[l.value])))]),_:2},1032,["name","label"]))),128))]),_:1},8,["modelValue"])])}}}),to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),oo={class:"version"},ao=z({__name:"loginPage",setup(r){var c,i;const l=ne(),a=k({username:"",password:""}),t=Z("log"),u=(c=document.querySelector('meta[name="version"]'))==null?void 0:c.getAttribute("content"),e=(i=document.querySelector('meta[name="buildTime"]'))==null?void 0:i.getAttribute("content"),o=k(!1),p=()=>{o.value=!0,setTimeout(()=>{o.value=!1,sessionStorage.setItem("login","1"),sessionStorage.setItem("username",a.value.username),l.push("/home")},1e3)};return le(()=>{t("version",u),t("buildTime",e)}),(m,v)=>{const w=pe,d=we,h=X,V=Te,y=Xe,S=he;return s(),g(S,null,{footer:n(()=>[M("div",oo,"vue3-web-demo "+O(K(u))+" "+O(K(e)),1)]),default:n(()=>[_(y,{class:"box-card",header:m.$translate("home.title")},{default:n(()=>[_(V,{"label-width":"80px",model:a.value},{default:n(()=>[_(d,{label:"帐号"},{default:n(()=>[_(w,{modelValue:a.value.username,"onUpdate:modelValue":v[0]||(v[0]=b=>a.value.username=b),maxLength:"10"},null,8,["modelValue"])]),_:1}),_(d,{label:"密码"},{default:n(()=>[_(w,{modelValue:a.value.password,"onUpdate:modelValue":v[1]||(v[1]=b=>a.value.password=b),maxLength:"12",type:"password"},null,8,["modelValue"])]),_:1}),_(d,null,{default:n(()=>[_(h,{type:"primary",loading:o.value,disabled:!a.value.username||!a.value.password,onClick:p},{default:n(()=>[C("登陆")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["header"])]),_:1})}}});const lo=q(ao,[["__scopeId","data-v-24b33756"]]),Do=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),no=["onContextmenu"],so=z({__name:"tabMenu",props:{homeTab:{default:()=>({title:"首页",path:"/home",closable:!1})}},emits:["reloadTab","delCache"],setup(r,{expose:l,emit:a}){const t=r,u=ne(),e=k([t.homeTab]),o=k(e.value[0].path),p=b=>{e.value.find(E=>E.path===b.path)||e.value.push(b),o.value=b.path},c=b=>{const $=e.value;if(o.value===b){const E=$.findIndex(T=>T.path===b),N=$[E+1]||$[E-1]||$[0];o.value=N.path}a("delCache",b),e.value=e.value.filter(E=>E.path!==b)},i=k(!1),m=k(""),v=k(),w={mounted(b,$){b.handler=function(E){b.contains(E.target)||$.value(E)},document.addEventListener("click",b.handler,!0)},unmounted(b){document.removeEventListener("click",b.handler)}},d=(b,$)=>{b.preventDefault(),v.value=b.currentTarget,i.value=!0,m.value=$},h=()=>{y(),e.value=e.value.filter(b=>b.closable===!1),o.value=e.value[0].path},V=()=>{y(),e.value=e.value.filter(b=>m.value===b.path||b.closable===!1),o.value=m.value},y=()=>{i.value=!1},S=b=>{let $=e.value.find(E=>E.path===b);$&&u.currentRoute.value.path!==$.path&&u.push($.path)};return l({addTab:p,removeTab:c}),Ie(()=>u.currentRoute.value.path,b=>{const{title:$,closable:E=!0}=u.currentRoute.value.meta;p({title:$,closable:E,path:b})}),(b,$)=>{const E=Le,N=Ye,T=Ve;return s(),g(T,{modelValue:o.value,"onUpdate:modelValue":$[1]||($[1]=I=>o.value=I),type:"card",class:"tabMenu",onTabRemove:c,onTabChange:S},{default:n(()=>[(s(!0),L(P,null,F(e.value,I=>(s(),g(E,{key:I.path,name:I.path,label:I.title,closable:I.closable!==!1},{label:n(()=>[oe((s(),L("div",{onContextmenu:U=>d(U,I.path)},[C(O(I.title),1)],40,no)),[[w,y]])]),_:2},1032,["name","label","closable"]))),128)),_(N,{ref:"tooltipRef","virtual-ref":v.value,"virtual-triggering":"","popper-class":"popperMenu",width:"120px",visible:i.value},{default:n(()=>[M("ul",null,[M("li",{onClick:$[0]||($[0]=I=>a("reloadTab",m.value))},"刷新页面"),M("li",{onClick:V},"关闭其他"),M("li",{onClick:h},"关闭所有")])]),_:1},8,["virtual-ref","visible"])]),_:1},8,["modelValue"])}}});const ro=q(so,[["__scopeId","data-v-348829e1"]]),uo=z({__name:"subMenu",props:["i"],emits:["addTab"],setup(r,{emit:l}){return(a,t)=>{const u=_e,e=Ce,o=fe("subMenu",!0),p=Ze;return s(),g(p,{index:r.i.title+r.i.path},{title:n(()=>[r.i.icon?(s(),g(u,{key:0},{default:n(()=>[(s(),g(ee(r.i.icon)))]),_:1})):R("",!0),M("span",null,O(r.i.title),1)]),default:n(()=>[(s(!0),L(P,null,F(r.i.children,c=>(s(),L(P,{key:c.path},[!c.children||!c.children.length?(s(),g(e,{key:0,onClick:i=>l("addTab",c),index:c.path},{default:n(()=>[C(O(c.title),1)]),_:2},1032,["onClick","index"])):(s(),g(o,{key:1,i:c,onAddTab:t[0]||(t[0]=i=>l("addTab",i))},null,8,["i"]))],64))),128))]),_:1},8,["index"])}}}),co=[{title:"首页",path:"/home",icon:"HomeFilled"},{title:"示例",icon:"List",children:[{title:"简单列表",path:"/singleList"},{title:"分页列表",children:[{title:"表单",path:"/addForm"},{title:"分页列表",path:"/pageList"}]},{title:"echart",path:"/echartPage"}]},{title:"文档",icon:"Notebook",path:"/docs"}],io=z({__name:"sideBar",emits:["addTab"],setup(r,{emit:l}){return(a,t)=>{const u=_e,e=Ce,o=uo,p=$e,c=et;return s(),g(c,{class:"side-bar"},{default:n(()=>[_(p,null,{default:n(()=>[(s(!0),L(P,null,F(K(co),i=>(s(),L(P,{key:i.title},[!i.children||!i.children.length?(s(),g(e,{key:0,index:i.title+i.path,onClick:m=>l("addTab",i)},{default:n(()=>[i.icon?(s(),g(u,{key:0},{default:n(()=>[(s(),g(ee(i.icon)))]),_:2},1024)):R("",!0),M("span",null,O(i.title),1)]),_:2},1032,["index","onClick"])):(s(),g(o,{key:1,i,onAddTab:t[0]||(t[0]=m=>l("addTab",m))},null,8,["i"]))],64))),128))]),_:1})]),_:1})}}});const po=q(io,[["__scopeId","data-v-9c62f71b"]]),_o=""+new URL("../logo.svg",import.meta.url).href,Re=r=>(ut("data-v-0c6f20b0"),r=r(),ct(),r),mo={class:"top-bar"},fo=Re(()=>M("img",{src:_o,class:"top-bar-icon",alt:""},null,-1)),bo=Re(()=>M("span",{class:"top-bar-text"},"vue3+element-plus",-1)),ho=z({__name:"topBar",setup(r){const l=ne(),a=sessionStorage.getItem("username"),t=()=>{sessionStorage.removeItem("login"),sessionStorage.removeItem("username"),l.push("/login")};return(u,e)=>{const o=tt,p=fe("SwitchButton"),c=_e,i=ot,m=at;return s(),L("div",mo,[_(m,{gutter:20},{default:n(()=>[_(o,{span:12},{default:n(()=>[fo,bo]),_:1}),_(o,{span:4,offset:8,class:"top-bar-right"},{default:n(()=>[_(i,{underline:!1,onClick:t},{default:n(()=>[C(O(K(a)),1),_(c,{class:"el-icon--right"},{default:n(()=>[_(p)]),_:1})]),_:1})]),_:1})]),_:1})])}}});const vo=q(ho,[["__scopeId","data-v-0c6f20b0"]]),go={class:"home-waper"},yo={class:"home-waper-top"},ko={class:"home-waper-body"},wo={class:"home-waper-content"},To={class:"home-waper-view"},So=z({__name:"waper",setup(r){const l=k(),a=k(!0),t=k(),u=ae();function e(m){var v;(v=t==null?void 0:t.value.$.__v_cache)==null||v.delete(m)}function o(m){e(m),a.value=!1,dt(()=>{a.value=!0})}function p(m){var v;(v=l.value)==null||v.addTab(m)}function c(m){var v;(v=l.value)==null||v.removeTab(m)}function i(m){var v,w;(v=l.value)==null||v.removeTab(u.path),(w=l.value)==null||w.addTab(m)}return te("addTab",p),te("removeTab",c),te("reloadTab",o),te("replaceTab",i),(m,v)=>{const w=vo,d=po,h=ro,V=fe("router-view");return s(),L("div",go,[M("div",yo,[_(w)]),M("div",ko,[_(d,{onAddTab:p}),M("div",wo,[_(h,{ref_key:"tabMenuRef",ref:l,onDelCache:e,onReloadTab:o},null,512),M("div",To,[_(V,null,{default:n(({Component:y,route:S})=>[(s(),g(it,{ref_key:"tabTool",ref:t},[a.value&&S.meta.keepAlive!==!1?(s(),g(ee(y),{key:S.fullPath})):R("",!0)],1536)),a.value&&S.meta.keepAlive===!1?(s(),g(ee(y),{key:S.fullPath})):R("",!0)]),_:1})])])])])}}});const xo=q(So,[["__scopeId","data-v-401884ee"]]),Fo=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),$o=()=>pt().proxy,Vo=z({__name:"home",setup(r){const l=$o(),a=k(l.$translate("home.title")),t=[{label:"全局样式",content:"src/assets/main.css"},{label:"示例",content:"src/views/demo"},{label:"组件",content:"src/components"},{label:"工具类",content:"src/utils"},{label:"Mock数据",content:"src/mock"},{label:"状态管理",content:"src/stores"}];return(u,e)=>{const o=xe,p=Se;return s(),g(p,{title:a.value,column:1,border:""},{default:n(()=>[(s(),L(P,null,F(t,c=>_(o,{key:c.label,label:c.label},{default:n(()=>[C(O(c.content),1)]),_:2},1032,["label"])),64))]),_:1},8,["title"])}}}),Ao=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),Lo={};function Co(r,l){return s(),L("div",null,"404")}const Eo=q(Lo,[["render",Co]]),Bo=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));export{G as _,Bo as a,Oo as g,Ao as h,Do as l,Ro as r,be as u,Fo as w};
